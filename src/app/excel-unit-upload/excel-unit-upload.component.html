<div class="container-fluid np">

    <div class="col-sm-12 mt-80">

        <!--Profile section-->

        <app-left-bar></app-left-bar>

        <!--Profile section-->
        <div class="col-xs-12 col-sm-12 col-md-11 b-l">
            <!--Dashboard icons start-->
            <div class="col-md-12 m-t-30 dash">
                <div style="display: flex">

                    <span style="width: 263px;" class="purple">Units Management for Block</span>

                    <div style="float:left;margin:0px" class="form-group">

                        <div class="dropdown">

                            <button class="btn btn-primary dropdown-toggle sdm br form-control" type="button"
                                data-toggle="dropdown">{{blBlkName}}

                                <i aria-hidden="true" class="fa fa-angle-down fa-1x"></i></button>

                            <ul class="dropdown-menu fullw" style="height: 300px;">

                                <li *ngFor='let blck of blocks'
                                    (click)="getAllUnitDetailsByBlockID(blck.blBlockID,blck.blBlkName)"><a>{{blck.blBlkName}}</a></li>

                            </ul>

                        </div>

                    </div>

                </div>
            <form *ngIf="ShowExcelUploadDiscription">
                    <div class="row">
                        <div style="display: flex;margin-bottom: 20px;align-items: flex-start;width: 50%;margin: auto;justify-content: space-around;">

                            <div class="upload_excel">
                            
                                <a id="unitsbulkupload3">
                                    <img style="width:60px" class="excel" (click)="upLoad()" src="../../assets/images/upload.png"
                                        tooltip="Have more num of Blocks?"></a>
                            
                                <a id="unitsbulkupload4" href="../../assets/Excel/Demo_Unit_Detailstemplate_New.xlsx" download><img style="width:60px" class="excel"
                                        src="../../assets/images/download.png" tooltip="click to download demo excel format"></a>
                            
                                <input type="file" id="file_upload_id" (change)="onFileChange($event,UpdateBlockUnitCountTemplate,unitprogressbartemplate)" multiple="false"
                                    accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"
                                    style="display:none" #file>
                            
                            </div>

                        </div>

                    </div>

                    <div class="row">


                        <div class="col-sm-8">

                            <div class="col-sm-8" style="border-radius: 18px;">
                                <h4>Excel Upload Instructions & Format:</h4>
                                <ul>
                                    <li>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</li>
                                    <li>Nulla ut eros quis est feugiat condimentum.</li>
                                    <li>Donec eget enim feugiat erat vehicula pretium non et urna.</li>
                                    <li>Cras vitae neque imperdiet, rhoncus orci sed, dignissim magna.</li>
                                    <li>Integer nec augue ut dolor efficitur auctor.</li>
                                    <li>Note:- Bulk Upload your Units file in <i class="fa fa-file-excel-o"
                                            aria-hidden="true"></i> excel format, the demo excel format can be
                                        downloaded from above</li>
                                </ul>

                            </div>


                        </div>


                    </div>

                </form>

                <!-- -->

                <!-- -->

                <!-- -->

                <div class="dash-row" *ngIf='ShowExcelDataList'>

                    <!-- <table class="table table-bordered" [mfData]="excelUnitList" #mf="mfDataTable"
                        (click)="onPageChange($event)" [mfRowsOnPage]="10">

                        <thead>

                            <tr>

                                <th>

                                    S.No.

                                </th>

                                <th>

                                    <mfDefaultSorter by="Unit Name - Flat no.">Unit Name - Flat no.</mfDefaultSorter>

                                </th>

                                <th>

                                    <mfDefaultSorter by="UnitType">Unit Type</mfDefaultSorter>

                                </th>


                                <th>

                                    <mfDefaultSorter by="OccupancyAndOwnershipStatus">Occupancy And OwnershipStatus
                                    </mfDefaultSorter>

                                </th>

                                <th>

                                    <mfDefaultSorter by="OwnerFirstName">Owner First Name</mfDefaultSorter>

                                </th>

                                <th>

                                    <mfDefaultSorter by="OwnerLastname">Owner Lastname</mfDefaultSorter>

                                </th>

                                <th>

                                    <mfDefaultSorter by="OwnerMobile">Owner Mobile</mfDefaultSorter>

                                </th>

                                <th>

                                    <mfDefaultSorter by="OwnerEmailID">Owner EmailID</mfDefaultSorter>

                                </th>

                                <th>

                                    <mfDefaultSorter by="TenantFirstName">Tenant FirstName</mfDefaultSorter>

                                </th>

                                <th>

                                    <mfDefaultSorter by="TenantLastName">Tenant LastName</mfDefaultSorter>

                                </th>

                                <th>

                                    <mfDefaultSorter by="TenantMobileNumber">Tenant MobileNumber</mfDefaultSorter>

                                </th>

                                <th>

                                    <mfDefaultSorter by="TenantEmail">Tenant EmailID</mfDefaultSorter>

                                </th>

                            </tr>

                        </thead>

                        <tbody>

                            <tr *ngFor="let item of mf.data;let i=index">

                                <ng-container *ngIf="item == -1">

                                    <td colspan="5" align="center">No Data Found</td>

                                </ng-container>

                                <ng-container *ngIf="item!=-1">

                                    <td>{{item['Sno']}}</td>

                                    <td>{{item['Unit Name - Flat no.']}}</td>

                                    <td>{{item['UnitType']}}</td>

                                    <td>{{item['OccupancyAndOwnershipStatus']}}</td>

                                    <td>{{item['OwnerFirstName']}}</td>

                                    <td>{{item['OwnerLastname']}}</td>

                                    <td>{{item['OwnerMobile']}}</td>

                                    <td>{{item['OwnerEmailID']}}</td>

                                    <td>{{item['TenantFirstName']}}</td>

                                    <td>{{item['TenantLastName']}}</td>

                                    <td>{{item['TenantMobileNumber']}}</td>

                                    <td>{{item['TenantEmail']}}</td>


                                </ng-container>

                            </tr>

                        </tbody>

                        <tfoot>

                            <tr>

                                <td colspan="15">

                                    <mfBootstrapPaginator></mfBootstrapPaginator>

                                </td>

                            </tr>

                        </tfoot>

                    </table> -->
                    <!-- <div id="unitsbulkold">
                        <mat-tab-group class="mainpage" [(selectedIndex)]="demo2TabIndex"> 
                            <div class="blockdetailsdata">
                               <mat-tab  class = "text"[label]="blBlkName">
                                <div *ngIf="duplicateUnitrecordexist"><p style="color: red;font-size: 30px;text-transform: uppercase;">Duplicate Unitname exist please enter unique unitname</p></div>
                                   <div class="blockdetailsdata" *ngFor="let obj of unitlistjson[blBlkName];let i= index">
                                    <form class="blockdetails-form1" style="margin-top: 30px;">
                                       <div>
                                           <mat-form-field class="blockdetails-form1">
                                               <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">UNIT NO/FLAT NO<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                               <input disabled="{{obj['hasNoDuplicateUnitname']==true}}" class = "text" matInput placeholder="UNIT NO/FLAT NO"
                                                (keyup)="getUnitName(unitlistjson[blBlkName][i]['Id'],unitlistjson[blBlkName][i]['flatno'],blBlkName)"[(ngModel)]="obj.flatno"[ngModelOptions]="{standalone:
                                                   true}"  value="">
                                           </mat-form-field>
                                           <p class="validation" *ngIf="unitlistjson[blBlkName][i]['isnotvalidflatno']">Valid unit no is required</p>
                                           <p class="validation" *ngIf="unitlistjson[blBlkName][i]['flatno']==undefined">Valid unit no is required</p>
           
                                        </div>
           
                                          <div>
                                           <mat-form-field class="blockdetails-form1">
                                            <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">UNIT TYPE<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                               <mat-select (selectionChange)="getUnittype(unitlistjson[blBlkName][i]['Id'],obj.unittype,blBlkName)" disabled="{{obj['hasNoDuplicateUnitname']==true}}" [(value)]="obj.unittype">
                                                   <mat-option *ngFor="let country of unittypedata" [value]="country">{{country}}
                                                   </mat-option>
                                               </mat-select>
                                           </mat-form-field>
                                           <p class="validation" *ngIf="unitlistjson[blBlkName][i]['unittype']==undefined">Valid Unit Type is required</p>
                                          </div>
           
                                        <div>
                                           <mat-form-field class="blockdetails-form1">
                                            <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">OCCUPANCY & OWNERSHIP STATUS<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                               <mat-select (selectionChange)="getOwnerShipStatus(unitlistjson[blBlkName][i]['Id'],obj.ownershipstatus,blBlkName)" disabled="{{obj['hasNoDuplicateUnitname']==true}}" [(value)]="obj.ownershipstatus">
                                                   <mat-option *ngFor="let status of occupancy" [value]="status">{{status}}
                                                   </mat-option>
                                               </mat-select>
                                           </mat-form-field>
                                           <p class="validation" *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']==undefined">Valid ownershipstatus is required</p>
                                       </div>
                                    
                                    <div>
                                       <mat-form-field class="blockdetails-form1" *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Vacant Unit'||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Owner Occupied Unit'||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                           <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">OWNER FIRST NAME<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                           <input disabled="{{obj['hasNoDuplicateUnitname']==true}}" class = "text" matInput placeholder="OWNER FIRSTNAME" 
                                           pattern="[a-zA-Z _]*"
                                           (keypress)=_keyPress2($event)  
                                           (keyup)="getownerfirstname(unitlistjson[blBlkName][i]['Id'],unitlistjson[blBlkName][i]['ownerfirstname'],blBlkName)"
                                           [(ngModel)]="obj.ownerfirstname"[ngModelOptions]="{standalone:
                                               true}" value="">
                                       </mat-form-field> 
                                       <p class="validation" *ngIf="unitlistjson[blBlkName][i]['isnotvalidownerfirstname']">Valid owner firstname is required</p>
                                       <p class="validation" *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[blBlkName][i]['ownerfirstname']==undefined||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[blBlkName][i]['ownerfirstname']==undefined ||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blBlkName][i]['ownerfirstname']==undefined || unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Owner Occupied Unit' && unitlistjson[blBlkName][i]['ownerfirstname']==undefined">Valid owner firstname is required</p>
                                    </div>
                                           <div>
                                               <mat-form-field class="blockdetails-form1" *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Vacant Unit'||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Owner Occupied Unit'||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                   <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">OWNER LAST NAME<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                                   <input disabled="{{obj['hasNoDuplicateUnitname']==true}}" class = "text" matInput placeholder="OWNER LASTNAME" 
                                                   (keyup)="getownerlastname(unitlistjson[blBlkName][i]['Id'],unitlistjson[blBlkName][i]['ownerlastname'],blBlkName)"
                                                   pattern="[a-zA-Z _]*"
                                                   (keypress)=_keyPress2($event)  
                                                   [(ngModel)]="obj.ownerlastname"
                                                   [ngModelOptions]="{standalone:true}" value="">
                                               </mat-form-field>
                                       <p class="validation" *ngIf="unitlistjson[blBlkName][i]['isnotvalidownerlastname']">Valid owner lastname is required</p>
                                       <p class="validation" *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[blBlkName][i]['ownerlastname']==undefined ||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blBlkName][i]['ownerlastname']==undefined || unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Owner Occupied Unit' && unitlistjson[blBlkName][i]['ownerlastname']==undefined">Valid owner lastname is required</p> 
                                           </div>
                                   
                                  <div>
                                   <mat-form-field class="blockdetails-form1" *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Vacant Unit'||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Owner Occupied Unit'||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                       <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">OWNER MOBILE NUMBER<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                       <input disabled="{{obj['hasNoDuplicateUnitname']==true}}" matInput placeholder="OWNER MOBILE NUMBER"
                                       pattern="[0-9]*" 
                                       (keyup)="getownermobilenumber(unitlistjson[blBlkName][i]['Id'],unitlistjson[blBlkName][i]['ownermobilenumber'],blBlkName)"
                                       minlength="10" maxlength="10"
                                       (keypress)=_keyPress($event)
                                       [ngModelOptions]="{standalone:true}"
                                           [(ngModel)]="obj.ownermobilenumber" value="">
                                   </mat-form-field>
                                   <p class="validation" *ngIf="unitlistjson[blBlkName][i]['isnotvalidownermobilenumber']">Valid 10 digit mobile number is required</p>
                                   <p class="validation" *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[blBlkName][i]['ownermobilenumber']==undefined ||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blBlkName][i]['ownermobilenumber']==undefined || unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Owner Occupied Unit' && unitlistjson[blBlkName][i]['ownermobilenumber']==undefined">Valid 10 digit mobile number is required</p> 
                                  </div>
                                         
                             <div>
                               <mat-form-field class="blockdetails-form1"*ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Vacant Unit'||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Owner Occupied Unit'||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                   <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">OWNER EMAIL ID<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                   <input disabled="{{obj['hasNoDuplicateUnitname']==true}}" matInput placeholder="OWNER EMAIL-ID"
                                   (keyup)="getowneremaiid(unitlistjson[blBlkName][i]['Id'],unitlistjson[blBlkName][i]['owneremaiid'],blBlkName)"
                                   pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"
                                   [(ngModel)]="obj.owneremaiid"[ngModelOptions]="{standalone:true}"value="">
                               </mat-form-field>
                               <p class="validation" *ngIf="unitlistjson[blBlkName][i]['isnotvalidowneremaiid']">valid email-id is required</p>
                               <p class="validation" *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[blBlkName][i]['owneremaiid']==undefined ||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blBlkName][i]['owneremaiid']==undefined || unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Owner Occupied Unit' && unitlistjson[blBlkName][i]['owneremaiid']==undefined">valid email-id is required</p> 
                             </div>
           
                                   <div>
                                       <mat-form-field class="blockdetails-form1"*ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='UnSold Tenant Occupied Unit'||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                           <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">TENANT FIRST NAME<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                           <input disabled="{{obj['hasNoDuplicateUnitname']==true}}" class="text" matInput placeholder="TENANT FIRSTNAME" 
                                           pattern="[a-zA-Z _]*"
                                           (keypress)=_keyPress2($event)  
                                           [(ngModel)]="obj.tenantfirstname"
                                   (keyup)="gettenantfirstname(unitlistjson[blBlkName][i]['Id'],unitlistjson[blBlkName][i]['tenantfirstname'],blBlkName)"
                                               [ngModelOptions]="{standalone:true}" value="">
                                       </mat-form-field>
                                       <p class="validation" *ngIf="unitlistjson[blBlkName][i]['isnotvalidtenantfirstname']">Valid firstname is
                                           required</p>
                                           <p class="validation" *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='UnSold Tenant Occupied Unit' && unitlistjson[blBlkName][i]['tenantfirstname']==undefined||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blBlkName][i]['tenantfirstname']==undefined">Valid firstname is
                                               required</p>
                                   </div>           
                                   <div>
                                       <mat-form-field class="blockdetails-form1"*ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='UnSold Tenant Occupied Unit'||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                           <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">TENANT LAST NAME<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                           <input disabled="{{obj['hasNoDuplicateUnitname']==true}}" class = "text" matInput placeholder="TENANT LASTNAME" 
                                           pattern="[a-zA-Z _]*"
                                           (keypress)=_keyPress2($event)  
                                           (keyup)="gettenantlastname(unitlistjson[blBlkName][i]['Id'],unitlistjson[blBlkName][i]['tenantlastname'],blBlkName)"
                                           [(ngModel)]="obj.tenantlastname"
                                           [ngModelOptions]="{standalone:true}" value="">
                                       </mat-form-field>
                                       <p class="validation" *ngIf="unitlistjson[blBlkName][i]['isnotvalidtenantlastname']"> Valid lastname is required</p>
                                        <p class="validation" *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='UnSold Tenant Occupied Unit' && unitlistjson[blBlkName][i]['tenantlastname']==undefined||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blBlkName][i]['tenantlastname']==undefined">Valid lastname is
                                           required</p> 
                                   </div>
                                    <div>
                                       <mat-form-field class="blockdetails-form1"
                                           *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='UnSold Tenant Occupied Unit'||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                           <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">TENANT MOBILE NUMBER<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                           <input disabled="{{obj['hasNoDuplicateUnitname']==true}}" matInput placeholder="TENANT MOBILE NUMBER" 
                                           pattern="[0-9]*"
                                           minlength="10" maxlength="10"
                                           (keypress)=_keyPress($event)
                                   (keyup)="gettenantmobilenumber(unitlistjson[blBlkName][i]['Id'],unitlistjson[blBlkName][i]['tenantmobilenumber'],blBlkName)"
                                           [(ngModel)]="obj.tenantmobilenumber"
                                           [ngModelOptions]="{standalone:true}" value="">
                                       </mat-form-field>
                                       <p class="validation" *ngIf="unitlistjson[blBlkName][i]['isnotvalidtenantmobilenumber']">Valid mobile number is
                                           required</p>
                                       <p class="validation" *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='UnSold Tenant Occupied Unit' && unitlistjson[blBlkName][i]['tenantmobilenumber']==undefined||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blBlkName][i]['tenantmobilenumber']==undefined">Valid mobile number is
                                               required</p> 
                                   </div>  
                                     <div>
                                           <mat-form-field  class="blockdetails-form1"*ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='UnSold Tenant Occupied Unit'||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                               <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">TENANT EMAIL ID<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                               <input disabled="{{obj['hasNoDuplicateUnitname']==true}}" matInput placeholder="TENANT EMAIL-ID" 
                                               pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"
                                   (keyup)="gettenantemaiid(unitlistjson[blBlkName][i]['Id'],unitlistjson[blBlkName][i]['tenantemaiid'],blBlkName)"
                                               [(ngModel)]="obj.tenantemaiid"
                                               [ngModelOptions]="{standalone:true}" value="">
                                           </mat-form-field>
                                       <p class="validation" *ngIf="unitlistjson[blBlkName][i]['isnotvalidtenantemaiid']"> Valid email-id is required</p>
                                       <p class="validation" *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='UnSold Tenant Occupied Unit' && unitlistjson[blBlkName][i]['tenantemaiid']==undefined||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blBlkName][i]['tenantemaiid']==undefined">Valid email-id is required</p> 
                                       </div>
                                       
                                      
                                       </form>
                                   </div>
                                   <div>
                               
                                   </div>
                                   <div>
                                       <button id="unitssubmit" mat-raised-button color="primary" disabled={{!isunitdetailsempty}} (click)="gotonexttab1($event,blBlkName)">Submit</button>
                                   </div>
                                   <div class="save">
                                       <a class="resetforunitsbulk1" (click)="resetStep5bulk($event,blBlkName)"mat-raised-button color="primary">RESET</a>
                                   </div>    
                                
                               </mat-tab>
                            
                           </div> 
           
                       
                        </mat-tab-group> 
                       </div> -->
                       <div id="unitsbulkold">
                        <div class="row">
                            <ul class="nav col-md-2" id="leftTabs" style="margin-top: 48px;">
                                <li class="active" *ngFor="let item of blocksArray;let i=index" style="background: #5a51aa;color: #fff !important;border-radius: 10px;display: flex;align-items: center;justify-content: space-around;    margin-bottom: 2px;">
                                <a style="color: #fff !important;background: #5a51aa;" href="#{{item.Id}}" (click)="assignTmpid(item.Id,item.blockname)" data-toggle="tab">
                                    &nbsp;&nbsp;<span></span>{{item.blockname | uppercase}}
                                    <i [hidden]="item.isUnitsCreatedUnderBlock" class="fa fa-circle-thin" aria-hidden="true"></i>&nbsp;
                                    <i [hidden]="item.isUnitsCreatedUnderBlock1" class="fa fa-check-circle-o" style="color: #41ca41" aria-hidden="true"></i>
                                </a>
                                </li>
                            </ul>
                            <div class="tab-content col-md-10">
                                  <p id="seperateunits"*ngIf="unitlistjson[blBlkName].length > 10">scroll right to view more units</p> 
                                <div *ngFor="let iitem of blocksArray;let i=index">
                                    <div class="tab-pane" [ngClass]="{'active':iitem.Id==iitem.blockTmpid}" id="{{iitem.Id}}">
                                        <ul class="nav nav-tabs" [ngStyle]="{'display':iitem.Id==iitem.blockTmpid ? 'flex' : 'none' }" style="display: flex;overflow-x: scroll;    height: 54px;">
                                            <li  *ngFor="let obj of unitlistjson[blBlkName];let i= index" [ngClass]="{'active':obj.Id==obj.unitTmpid}" style="display: flex;justify-content: space-evenly;width: auto;">
                                                <a href="#{{obj.Id}}" (click)="assignUnitTmpid(obj.Id,blBlkName)" data-toggle="tab" style="display: flex;width: auto;">{{obj.flatno==''?'Unit':obj.flatno}}
                                                    &nbsp;&nbsp;<span></span>
                                            <i [hidden]="obj.isUnitCreated" class="fa fa-circle-thin" [ngStyle]="{'color':obj.isUnitNameModifiedForDuplicateRecord=='No'?'#41ca41':'#ff0505'}" aria-hidden="true"></i>&nbsp;
                                            <i [hidden]="obj.isUnitNotCreated" class="fa fa-check-circle-o" style="color: #41ca41" aria-hidden="true"></i>
                                                </a></li>
                                        </ul>
                                        <div [ngStyle]="{'display':iitem.Id==iitem.blockTmpid ? 'block' : 'none' }" class="tab-content">
                                            <div *ngFor="let obj of unitlistjson[blBlkName];let i= index"
                                                [ngClass]="{'active':obj.Id==obj.unitTmpid}" class="tab-pane">
                                                <div id="{{obj.Id}}">
                                                    <form class="blockdetails-form1" style="margin-top: 30px;display: flex;flex-direction: column;">
                                                        <div style="text-align: center; margin-top: 22px;">
                                                            <span style="width: 263px;color:#e59400;text-transform: uppercase;">Unit Details</span>
                                                        </div>
                                                        <div class="col-sm-12" style="display: flex">
                                                            <div>
                                                                <mat-form-field class="blockdetails-form1">
                                                                    <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">UNIT NO/FLAT NO<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                                                    <input disabled="{{obj['disableField']==true}}" class = "text" matInput placeholder="UNIT NO/FLAT NO"
                                                                     (keyup)="getUnitName(unitlistjson[blBlkName][i]['Id'],unitlistjson[blBlkName][i]['flatno'],blBlkName)"[(ngModel)]="obj.flatno"[ngModelOptions]="{standalone:
                                                                        true}"  value="">
                                                                </mat-form-field>
                                                                <p class="validation" *ngIf="unitlistjson[blBlkName][i]['isnotvalidflatno']">Valid unit no is required</p>
                                                                <p class="validation" *ngIf="unitlistjson[blBlkName][i]['flatno']==undefined">Valid unit no is required</p>
                                
                                                             </div>
                                
                                                               <div>
                                                                <mat-form-field class="blockdetails-form1">
                                                                 <mat-label [ngClass]="{'green-lbl':unitlistjson[blBlkName][i]['unittype']!=undefined,'red-lbl':unitlistjson[blBlkName][i]['unittype']==undefined}">UNIT TYPE<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                                                    <mat-select (selectionChange)="getUnittype(unitlistjson[blBlkName][i]['Id'],obj.unittype,blBlkName,unitlistjson[blBlkName][i]['flatno'])" disabled="{{obj['disableField']==true}}" [(value)]="obj.unittype">
                                                                        <mat-option *ngFor="let country of unittypedata" [value]="country">{{country}}
                                                                        </mat-option>
                                                                    </mat-select>
                                                                </mat-form-field>
                                                                <p class="validation" *ngIf="unitlistjson[blBlkName][i]['unittype']==undefined">Valid Unit Type is required</p>
                                                               </div>
                                
                                                             <div>
                                                                <mat-form-field class="blockdetails-form1">
                                                                 <mat-label [ngClass]="{'green-lbl':unitlistjson[blBlkName][i]['ownershipstatus']!=undefined,'red-lbl':unitlistjson[blBlkName][i]['ownershipstatus']==undefined}">OCCUPANCY & OWNERSHIP STATUS<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                                                    <mat-select (selectionChange)="getOwnerShipStatus(unitlistjson[blBlkName][i]['Id'],obj.ownershipstatus,blBlkName,unitlistjson[blBlkName][i]['flatno'])" disabled="{{obj['disableField']==true}}" [(value)]="obj.ownershipstatus">
                                                                        <mat-option *ngFor="let status of occupancy" [value]="status">{{status}}
                                                                        </mat-option>
                                                                    </mat-select>
                                                                </mat-form-field>
                                                                <p class="validation" *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']==undefined">Valid ownershipstatus is required</p>
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-12" style="display: flex">
                                                            <div>
                                                                <mat-form-field class="blockdetails-form1">
                                                                    <mat-label
                                                                        [ngClass]="{'green-lbl':unitlistjson[blBlkName][i]['unit dimension']!=undefined,'red-lbl':unitlistjson[blBlkName][i]['unit dimension']==undefined}">
                                                                        UNIT DIMENSION<span
                                                                            [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span>
                                                                    </mat-label>
                                                                    <input disabled="{{obj['disableField']==true}}" maxlength="100" (keypress)="_keyPress($event)" pattern="[0-9]*"
                                                                        class="text" matInput placeholder="UNIT DIMENSION"
                                                                        (keyup)="ValidateLessThanZeroValue(unitlistjson[blBlkName][i]['Id'],unitlistjson[blBlkName][i]['unit dimension'],blBlkName,unitlistjson[blBlkName][i]['flatno'])"
                                                                        [(ngModel)]="obj['unit dimension']" [ngModelOptions]="{standalone:true}" value="">
                                                                </mat-form-field>
                                                                <p class="validation" *ngIf="unitlistjson[blBlkName][i]['InvalidUnitDimension']">Valid unitdimension
                                                                    is required</p>
                                                                <p class="validation" *ngIf="unitlistjson[blBlkName][i]['unit dimension']==undefined">Valid
                                                                    unitdimension is required</p>
                                                            </div>
                                                        
                                                            <div>
                                                                <mat-form-field class="blockdetails-form1">
                                                                    <mat-label
                                                                        [ngClass]="{'green-lbl':unitlistjson[blBlkName][i]['Unit Calculation Type']!=undefined,'red-lbl':unitlistjson[blBlkName][i]['Unit Calculation Type']==undefined}">
                                                                        CALCULATION TYPE<span
                                                                            [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span>
                                                                    </mat-label>
                                                                    <mat-select disabled="{{obj['disableField']==true}}"
                                                                        (selectionChange)="getCalculationType(unitlistjson[blBlkName][i]['Id'],unitlistjson[blBlkName][i]['Unit Calculation Type'],blBlkName,unitlistjson[blBlkName][i]['flatno'])"
                                                                        [(value)]="obj['Unit Calculation Type']">
                                                                        <mat-option *ngFor="let cal of calculationTypes" [value]="cal['name']">{{cal['name']}}
                                                                        </mat-option>
                                                                    </mat-select>
                                                                </mat-form-field>
                                                                <p class="validation" *ngIf="unitlistjson[blBlkName][i]['Unit Calculation Type']==undefined">Valid
                                                                    Unit Calculationtype is
                                                                    required</p>
                                                            </div>
                                                        
                                                            <div>
                                                                <mat-form-field class="blockdetails-form1">
                                                                    <mat-label
                                                                        [ngClass]="{'green-lbl':unitlistjson[blBlkName][i]['unit rate']!=undefined,'red-lbl':unitlistjson[blBlkName][i]['unit rate']==undefined}">
                                                                        UNIT RATE<span
                                                                            [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span>
                                                                    </mat-label>
                                                                    <input maxlength="100"
                                                                        (keyup)="getUnitrate(unitlistjson[blBlkName][i]['Id'],unitlistjson[blBlkName][i]['unit rate'],blBlkName,unitlistjson[blBlkName][i]['flatno'])"
                                                                        (keypress)="_keyPress($event)" pattern="[0-9]*" class="text" matInput placeholder="UNIT RATE" disabled="{{obj['disableField']==true}}"
                                                                        [(ngModel)]="obj['unit rate']" [ngModelOptions]="{standalone:true}" value="">
                                                                </mat-form-field>
                                                                <p class="validation" *ngIf="unitlistjson[blBlkName][i]['InvalidUnitRate']">Valid unit rate is
                                                                    required</p>
                                                                <p class="validation" *ngIf="unitlistjson[blBlkName][i]['unit rate']==undefined">Valid unit rate is
                                                                    required</p>
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-12">
                                                            <hr>
                                                        </div>
                                                        <div style="text-align: center;" *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Vacant Unit'||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Owner Occupied Unit'||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                            <span style="width: 263px;color:#e59400;text-transform: uppercase;">Owner Details</span>
                                                        </div>
                                                        <div class="col-sm-12" style="display: flex">
                                                            <div>
                                                                <mat-form-field class="blockdetails-form1"
                                                                    *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Vacant Unit'||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Owner Occupied Unit'||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                                    <mat-label
                                                                        [ngClass]="{'green-lbl':unitlistjson[blBlkName][i]['ownerfirstname']!=undefined,'red-lbl':unitlistjson[blBlkName][i]['ownerfirstname']==undefined}">
                                                                        OWNER FIRST NAME<span
                                                                            [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span>
                                                                    </mat-label>
                                                                    <input disabled="{{obj['disableField']==true}}" class="text" matInput placeholder="OWNER FIRSTNAME"
                                                                        pattern="[a-zA-Z _]*" (keypress)=_keyPress2($event)
                                                                        (keyup)="getownerfirstname(unitlistjson[blBlkName][i]['Id'],unitlistjson[blBlkName][i]['ownerfirstname'],blBlkName,unitlistjson[blBlkName][i]['flatno'])"
                                                                        [(ngModel)]="obj.ownerfirstname" [ngModelOptions]="{standalone:
                                                                                                                        true}" value="">
                                                                </mat-form-field>
                                                                <p class="validation" *ngIf="unitlistjson[blBlkName][i]['isnotvalidownerfirstname']">Valid owner firstname is
                                                                    required</p>
                                                                <p class="validation"
                                                                    *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[blBlkName][i]['ownerfirstname']==undefined||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[blBlkName][i]['ownerfirstname']==undefined ||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blBlkName][i]['ownerfirstname']==undefined || unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Owner Occupied Unit' && unitlistjson[blBlkName][i]['ownerfirstname']==undefined">
                                                                    Valid owner firstname is required</p>
                                                            </div>
                                                            <div>
                                                                <mat-form-field class="blockdetails-form1"
                                                                    *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Vacant Unit'||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Owner Occupied Unit'||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                                    <mat-label
                                                                        [ngClass]="{'green-lbl':unitlistjson[blBlkName][i]['ownerlastname']!=undefined,'red-lbl':unitlistjson[blBlkName][i]['ownerlastname']==undefined}">
                                                                        OWNER LAST NAME<span
                                                                            [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span>
                                                                    </mat-label>
                                                                    <input disabled="{{obj['disableField']==true}}" class="text" matInput placeholder="OWNER LASTNAME"
                                                                        (keyup)="getownerlastname(unitlistjson[blBlkName][i]['Id'],unitlistjson[blBlkName][i]['ownerlastname'],blBlkName,unitlistjson[blBlkName][i]['flatno'])"
                                                                        pattern="[a-zA-Z _]*" (keypress)=_keyPress2($event) [(ngModel)]="obj.ownerlastname"
                                                                        [ngModelOptions]="{standalone:true}" value="">
                                                                </mat-form-field>
                                                                <p class="validation" *ngIf="unitlistjson[blBlkName][i]['isnotvalidownerlastname']">Valid owner lastname is
                                                                    required</p>
                                                                <p class="validation"
                                                                    *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[blBlkName][i]['ownerlastname']==undefined ||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blBlkName][i]['ownerlastname']==undefined || unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Owner Occupied Unit' && unitlistjson[blBlkName][i]['ownerlastname']==undefined">
                                                                    Valid owner lastname is required</p>
                                                            </div>
                                                        
                                                            <div>
                                                                <mat-form-field class="blockdetails-form1"
                                                                    *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Vacant Unit'||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Owner Occupied Unit'||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                                    <mat-label
                                                                        [ngClass]="{'green-lbl':unitlistjson[blBlkName][i]['ownermobilenumber']!=undefined,'red-lbl':unitlistjson[blBlkName][i]['ownermobilenumber']==undefined}">
                                                                        OWNER MOBILE NUMBER<span
                                                                            [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span>
                                                                    </mat-label>
                                                                    <input disabled="{{obj['disableField']==true}}" matInput placeholder="OWNER MOBILE NUMBER" pattern="[0-9]*"
                                                                        (keyup)="getownermobilenumber(unitlistjson[blBlkName][i]['Id'],unitlistjson[blBlkName][i]['ownermobilenumber'],blBlkName,unitlistjson[blBlkName][i]['flatno'])"
                                                                        minlength="10" maxlength="10" (keypress)=_keyPress($event) [ngModelOptions]="{standalone:true}"
                                                                        [(ngModel)]="obj.ownermobilenumber" value="">
                                                                </mat-form-field>
                                                                <p class="validation" *ngIf="unitlistjson[blBlkName][i]['isnotvalidownermobilenumber']">Valid 10 digit mobile
                                                                    number is required</p>
                                                                <p class="validation"
                                                                    *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[blBlkName][i]['ownermobilenumber']==undefined ||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blBlkName][i]['ownermobilenumber']==undefined || unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Owner Occupied Unit' && unitlistjson[blBlkName][i]['ownermobilenumber']==undefined">
                                                                    Valid 10 digit mobile number is required</p>
                                                            </div>
                                                        
                                                            <div>
                                                                <mat-form-field class="blockdetails-form1"
                                                                    *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Vacant Unit'||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Owner Occupied Unit'||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                                    <mat-label
                                                                        [ngClass]="{'green-lbl':unitlistjson[blBlkName][i]['owneremaiid']!=undefined,'red-lbl':unitlistjson[blBlkName][i]['owneremaiid']==undefined}">
                                                                        OWNER EMAIL ID<span
                                                                            [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span>
                                                                    </mat-label>
                                                                    <input disabled="{{obj['disableField']==true}}" matInput placeholder="OWNER EMAIL-ID"
                                                                        (keyup)="getowneremaiid(unitlistjson[blBlkName][i]['Id'],unitlistjson[blBlkName][i]['owneremaiid'],blBlkName,unitlistjson[blBlkName][i]['flatno'])"
                                                                        pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$" [(ngModel)]="obj.owneremaiid"
                                                                        [ngModelOptions]="{standalone:true}" value="">
                                                                </mat-form-field>
                                                                <p class="validation" *ngIf="unitlistjson[blBlkName][i]['isnotvalidowneremaiid']">valid email-id is required</p>
                                                                <p class="validation"
                                                                    *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[blBlkName][i]['owneremaiid']==undefined ||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blBlkName][i]['owneremaiid']==undefined || unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Owner Occupied Unit' && unitlistjson[blBlkName][i]['owneremaiid']==undefined">
                                                                    valid email-id is required</p>
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-12">
                                                            <hr>
                                                        </div>
                                                        <div style="text-align: center;" *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='UnSold Tenant Occupied Unit'||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                            <span style="width: 263px;color:#e59400;text-transform: uppercase;">Tenant Details</span>
                                                        </div>
                                                        <div class="col-sm-12" style="display: flex">
                                                            <div>
                                                                <mat-form-field class="blockdetails-form1"
                                                                    *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='UnSold Tenant Occupied Unit'||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                                    <mat-label
                                                                        [ngClass]="{'green-lbl':unitlistjson[blBlkName][i]['tenantfirstname']!=undefined,'red-lbl':unitlistjson[blBlkName][i]['tenantfirstname']==undefined}">
                                                                        TENANT FIRST NAME<span
                                                                            [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span>
                                                                    </mat-label>
                                                                    <input disabled="{{obj['disableField']==true}}" class="text" matInput placeholder="TENANT FIRSTNAME"
                                                                        pattern="[a-zA-Z _]*" (keypress)=_keyPress2($event) [(ngModel)]="obj.tenantfirstname"
                                                                        (keyup)="gettenantfirstname(unitlistjson[blBlkName][i]['Id'],unitlistjson[blBlkName][i]['tenantfirstname'],blBlkName,unitlistjson[blBlkName][i]['flatno'])"
                                                                        [ngModelOptions]="{standalone:true}" value="">
                                                                </mat-form-field>
                                                                <p class="validation" *ngIf="unitlistjson[blBlkName][i]['isnotvalidtenantfirstname']">Valid firstname is
                                                                    required</p>
                                                                <p class="validation"
                                                                    *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='UnSold Tenant Occupied Unit' && unitlistjson[blBlkName][i]['tenantfirstname']==undefined||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blBlkName][i]['tenantfirstname']==undefined">
                                                                    Valid firstname is
                                                                    required</p>
                                                            </div>
                                                            <div>
                                                                <mat-form-field class="blockdetails-form1"
                                                                    *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='UnSold Tenant Occupied Unit'||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                                    <mat-label
                                                                        [ngClass]="{'green-lbl':unitlistjson[blBlkName][i]['tenantlastname']!=undefined,'red-lbl':unitlistjson[blBlkName][i]['tenantlastname']==undefined}">
                                                                        TENANT LAST NAME<span
                                                                            [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span>
                                                                    </mat-label>
                                                                    <input disabled="{{obj['disableField']==true}}" class="text" matInput placeholder="TENANT LASTNAME"
                                                                        pattern="[a-zA-Z _]*" (keypress)=_keyPress2($event)
                                                                        (keyup)="gettenantlastname(unitlistjson[blBlkName][i]['Id'],unitlistjson[blBlkName][i]['tenantlastname'],blBlkName,unitlistjson[blBlkName][i]['flatno'])"
                                                                        [(ngModel)]="obj.tenantlastname" [ngModelOptions]="{standalone:true}" value="">
                                                                </mat-form-field>
                                                                <p class="validation" *ngIf="unitlistjson[blBlkName][i]['isnotvalidtenantlastname']"> Valid lastname is required
                                                                </p>
                                                                <p class="validation"
                                                                    *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='UnSold Tenant Occupied Unit' && unitlistjson[blBlkName][i]['tenantlastname']==undefined||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blBlkName][i]['tenantlastname']==undefined">
                                                                    Valid lastname is
                                                                    required</p>
                                                            </div>
                                                            <div>
                                                                <mat-form-field class="blockdetails-form1"
                                                                    *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='UnSold Tenant Occupied Unit'||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                                    <mat-label
                                                                        [ngClass]="{'green-lbl':unitlistjson[blBlkName][i]['tenantmobilenumber']!=undefined,'red-lbl':unitlistjson[blBlkName][i]['tenantmobilenumber']==undefined}">
                                                                        TENANT MOBILE NUMBER<span
                                                                            [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span>
                                                                    </mat-label>
                                                                    <input disabled="{{obj['disableField']==true}}" matInput placeholder="TENANT MOBILE NUMBER" pattern="[0-9]*"
                                                                        minlength="10" maxlength="10" (keypress)=_keyPress($event)
                                                                        (keyup)="gettenantmobilenumber(unitlistjson[blBlkName][i]['Id'],unitlistjson[blBlkName][i]['tenantmobilenumber'],blBlkName,unitlistjson[blBlkName][i]['flatno'])"
                                                                        [(ngModel)]="obj.tenantmobilenumber" [ngModelOptions]="{standalone:true}" value="">
                                                                </mat-form-field>
                                                                <p class="validation" *ngIf="unitlistjson[blBlkName][i]['isnotvalidtenantmobilenumber']">Valid mobile number is
                                                                    required</p>
                                                                <p class="validation"
                                                                    *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='UnSold Tenant Occupied Unit' && unitlistjson[blBlkName][i]['tenantmobilenumber']==undefined||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blBlkName][i]['tenantmobilenumber']==undefined">
                                                                    Valid mobile number is
                                                                    required</p>
                                                            </div>
                                                            <div>
                                                                <mat-form-field class="blockdetails-form1"
                                                                    *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='UnSold Tenant Occupied Unit'||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                                    <mat-label
                                                                        [ngClass]="{'green-lbl':unitlistjson[blBlkName][i]['tenantemaiid']!=undefined,'red-lbl':unitlistjson[blBlkName][i]['tenantemaiid']==undefined}">
                                                                        TENANT EMAIL ID<span
                                                                            [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span>
                                                                    </mat-label>
                                                                    <input disabled="{{obj['disableField']==true}}" matInput placeholder="TENANT EMAIL-ID"
                                                                        pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"
                                                                        (keyup)="gettenantemaiid(unitlistjson[blBlkName][i]['Id'],unitlistjson[blBlkName][i]['tenantemaiid'],blBlkName,unitlistjson[blBlkName][i]['flatno'])"
                                                                        [(ngModel)]="obj.tenantemaiid" [ngModelOptions]="{standalone:true}" value="">
                                                                </mat-form-field>
                                                                <p class="validation" *ngIf="unitlistjson[blBlkName][i]['isnotvalidtenantemaiid']"> Valid email-id is required
                                                                </p>
                                                                <p class="validation"
                                                                    *ngIf="unitlistjson[blBlkName][i]['ownershipstatus']=='UnSold Tenant Occupied Unit' && unitlistjson[blBlkName][i]['tenantemaiid']==undefined||unitlistjson[blBlkName][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blBlkName][i]['tenantemaiid']==undefined">
                                                                    Valid email-id is required</p>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                                <div>
                                                    <button id="unitssubmit" mat-raised-button color="primary" disabled={{!isunitdetailsempty}} (click)="gotonexttab1($event,blBlkName,i)">Save & Continue</button>
                                                </div>
                                                <div class="save">
                                                    <a class="resetforbulkunits" (click)="resetStep5bulk($event,blBlkName,obj.Id)" [disabled]="obj.isUnitCreated" [ngStyle]="{'opacity':obj.isUnitCreated ? '0.5' : '1' }" mat-raised-button color="primary">RESET</a>
                                                </div> 
                                            </div>
                                          
                                        </div>
        
                                    </div>
                                </div>
                            </div>
        
                        </div>
                        <!---->
                        <!-- <mat-tab-group class="mainpage" [(selectedIndex)]="demo2TabIndex"> 
                            <div class="blockdetailsdata" *ngFor="let item of finalblocknameTmp;let i=index">
                               <mat-tab  class = "text"[label]="item.name">
                                <div *ngIf="duplicateUnitrecordexist"><p style="color: red;font-size: 30px;text-transform: uppercase;">Duplicate Unitname exist please enter unique unitname</p></div>
                                   <div class="blockdetailsdata" *ngFor="let obj of unitlistjson[item.name];let i= index">
                                    <form class="blockdetails-form1" style="margin-top: 30px;">
                                       <div>
                                           <mat-form-field class="blockdetails-form1">
                                               <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">UNIT NO/FLAT NO<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                               <input disabled="{{obj['disableField']==true}}" class = "text" matInput placeholder="UNIT NO/FLAT NO"
                                                (keyup)="getUnitName(unitlistjson[item.name][i]['Id'],unitlistjson[item.name][i]['flatno'],item.name)"[(ngModel)]="obj.flatno"[ngModelOptions]="{standalone:
                                                   true}"  value="">
                                           </mat-form-field>
                                           <p class="validation" *ngIf="unitlistjson[item.name][i]['isnotvalidflatno']">Valid unit no is required</p>
                                           <p class="validation" *ngIf="unitlistjson[item.name][i]['flatno']==undefined">Valid unit no is required</p>
           
                                        </div>
           
                                          <div>
                                           <mat-form-field class="blockdetails-form1">
                                            <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">UNIT TYPE<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                               <mat-select (selectionChange)="getUnittype(unitlistjson[blBlkName][i]['Id'],obj.unittype,blBlkName)" disabled="{{obj['disableField']==true}}" [(value)]="obj.unittype">
                                                   <mat-option *ngFor="let country of unittypedata" [value]="country">{{country}}
                                                   </mat-option>
                                               </mat-select>
                                           </mat-form-field>
                                           <p class="validation" *ngIf="unitlistjson[item.name][i]['unittype']==undefined">Valid Unit Type is required</p>
                                          </div>
           
                                        <div>
                                           <mat-form-field class="blockdetails-form1">
                                            <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">OCCUPANCY & OWNERSHIP STATUS<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                               <mat-select (selectionChange)="getOwnerShipStatus(unitlistjson[blBlkName][i]['Id'],obj.ownershipstatus,blBlkName)" disabled="{{obj['disableField']==true}}" [(value)]="obj.ownershipstatus">
                                                   <mat-option *ngFor="let status of occupancy" [value]="status">{{status}}
                                                   </mat-option>
                                               </mat-select>
                                           </mat-form-field>
                                           <p class="validation" *ngIf="unitlistjson[item.name][i]['ownershipstatus']==undefined">Valid ownershipstatus is required</p>
                                       </div>
                                    
                                    <div>
                                       <mat-form-field class="blockdetails-form1" *ngIf="unitlistjson[item.name][i]['ownershipstatus']=='Sold Vacant Unit'||unitlistjson[item.name][i]['ownershipstatus']=='Sold Owner Occupied Unit'||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                           <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">OWNER FIRST NAME<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                           <input disabled="{{obj['disableField']==true}}" class = "text" matInput placeholder="OWNER FIRSTNAME" 
                                           pattern="[a-zA-Z _]*"
                                           (keypress)=_keyPress2($event)           
                                           (keyup)="getownerfirstname(unitlistjson[item.name][i]['Id'],unitlistjson[item.name][i]['ownerfirstname'],item.name)"
                                           [(ngModel)]="obj.ownerfirstname"[ngModelOptions]="{standalone:
                                               true}" value="">
                                       </mat-form-field> 
                                       <p class="validation" *ngIf="unitlistjson[item.name][i]['isnotvalidownerfirstname']">Valid owner firstname is required</p>
                                       <p class="validation" *ngIf="unitlistjson[item.name][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[item.name][i]['ownerfirstname']==undefined||unitlistjson[item.name][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[item.name][i]['ownerfirstname']==undefined ||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[item.name][i]['ownerfirstname']==undefined || unitlistjson[item.name][i]['ownershipstatus']=='Sold Owner Occupied Unit' && unitlistjson[item.name][i]['ownerfirstname']==undefined">Valid owner firstname is required</p>
                                    </div>
                                           <div>
                                               <mat-form-field class="blockdetails-form1" *ngIf="unitlistjson[item.name][i]['ownershipstatus']=='Sold Vacant Unit'||unitlistjson[item.name][i]['ownershipstatus']=='Sold Owner Occupied Unit'||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                   <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">OWNER LAST NAME<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                                   <input disabled="{{obj['disableField']==true}}" class = "text" matInput placeholder="OWNER LASTNAME" 
                                                   (keyup)="getownerlastname(unitlistjson[item.name][i]['Id'],unitlistjson[item.name][i]['ownerlastname'],item.name)"
                                                   pattern="[a-zA-Z _]*"
                                                   (keypress)=_keyPress2($event)           
                                                   [(ngModel)]="obj.ownerlastname"
                                                   [ngModelOptions]="{standalone:true}" value="">
                                               </mat-form-field>
                                       <p class="validation" *ngIf="unitlistjson[item.name][i]['isnotvalidownerlastname']">Valid owner lastname is required</p>
                                       <p class="validation" *ngIf="unitlistjson[item.name][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[item.name][i]['ownerlastname']==undefined ||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[item.name][i]['ownerlastname']==undefined || unitlistjson[item.name][i]['ownershipstatus']=='Sold Owner Occupied Unit' && unitlistjson[item.name][i]['ownerlastname']==undefined">Valid owner lastname is required</p> 
                                           </div>
                                   
                                  <div>
                                   <mat-form-field class="blockdetails-form1" *ngIf="unitlistjson[item.name][i]['ownershipstatus']=='Sold Vacant Unit'||unitlistjson[item.name][i]['ownershipstatus']=='Sold Owner Occupied Unit'||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                       <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">OWNER MOBILE NUMBER<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                       <input disabled="{{obj['disableField']==true}}" matInput placeholder="OWNER MOBILE NUMBER"
                                       pattern="[0-9]*" 
                                       (keyup)="getownermobilenumber(unitlistjson[item.name][i]['Id'],unitlistjson[item.name][i]['ownermobilenumber'],item.name)"
                                       minlength="10" maxlength="10"
                                       (keypress)=_keyPress($event)
                                       [ngModelOptions]="{standalone:true}"
                                           [(ngModel)]="obj.ownermobilenumber" value="">
                                   </mat-form-field>
                                   <p class="validation" *ngIf="unitlistjson[item.name][i]['isnotvalidownermobilenumber']">Valid 10 digit mobile number is required</p>
                                   <p class="validation" *ngIf="unitlistjson[item.name][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[item.name][i]['ownermobilenumber']==undefined ||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[item.name][i]['ownermobilenumber']==undefined || unitlistjson[item.name][i]['ownershipstatus']=='Sold Owner Occupied Unit' && unitlistjson[item.name][i]['ownermobilenumber']==undefined">Valid 10 digit mobile number is required</p> 
                                  </div>
                                         
                             <div>
                               <mat-form-field class="blockdetails-form1"*ngIf="unitlistjson[item.name][i]['ownershipstatus']=='Sold Vacant Unit'||unitlistjson[item.name][i]['ownershipstatus']=='Sold Owner Occupied Unit'||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                   <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">OWNER EMAIL ID<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                   <input disabled="{{obj['disableField']==true}}" matInput placeholder="OWNER EMAIL-ID"
                                   (keyup)="getowneremaiid(unitlistjson[item.name][i]['Id'],unitlistjson[item.name][i]['owneremaiid'],item.name)"
                                   pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"
                                   [(ngModel)]="obj.owneremaiid"[ngModelOptions]="{standalone:true}"value="">
                               </mat-form-field>
                               <p class="validation" *ngIf="unitlistjson[item.name][i]['isnotvalidowneremaiid']">valid email-id is required</p>
                               <p class="validation" *ngIf="unitlistjson[item.name][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[item.name][i]['owneremaiid']==undefined ||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[item.name][i]['owneremaiid']==undefined || unitlistjson[item.name][i]['ownershipstatus']=='Sold Owner Occupied Unit' && unitlistjson[item.name][i]['owneremaiid']==undefined">valid email-id is required</p> 
                             </div>
           
                                   <div>
                                       <mat-form-field class="blockdetails-form1"*ngIf="unitlistjson[item.name][i]['ownershipstatus']=='UnSold Tenant Occupied Unit'||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                           <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">TENANT FIRST NAME<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                           <input disabled="{{obj['disableField']==true}}" class="text" matInput placeholder="TENANT FIRSTNAME" 
                                           pattern="[a-zA-Z _]*"
                                           (keypress)=_keyPress2($event)  
                                           [(ngModel)]="obj.tenantfirstname"
                                   (keyup)="gettenantfirstname(unitlistjson[item.name][i]['Id'],unitlistjson[item.name][i]['tenantfirstname'],item.name)"
                                               [ngModelOptions]="{standalone:true}" value="">
                                       </mat-form-field>
                                       <p class="validation" *ngIf="unitlistjson[item.name][i]['isnotvalidtenantfirstname']">Valid firstname is
                                           required</p>
                                           <p class="validation" *ngIf="unitlistjson[item.name][i]['ownershipstatus']=='UnSold Tenant Occupied Unit' && unitlistjson[item.name][i]['tenantfirstname']==undefined||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[item.name][i]['tenantfirstname']==undefined">Valid firstname is
                                               required</p>
                                   </div>           
                                   <div>
                                       <mat-form-field class="blockdetails-form1"*ngIf="unitlistjson[item.name][i]['ownershipstatus']=='UnSold Tenant Occupied Unit'||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                           <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">TENANT LAST NAME<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                           <input disabled="{{obj['disableField']==true}}" class = "text" matInput placeholder="TENANT LASTNAME" 
                                           pattern="[a-zA-Z _]*"
                                           (keypress)=_keyPress2($event)  
                                           (keyup)="gettenantlastname(unitlistjson[item.name][i]['Id'],unitlistjson[item.name][i]['tenantlastname'],item.name)"
                                           [(ngModel)]="obj.tenantlastname"
                                           [ngModelOptions]="{standalone:true}" value="">
                                       </mat-form-field>
                                       <p class="validation" *ngIf="unitlistjson[item.name][i]['isnotvalidtenantlastname']"> Valid lastname is required</p>
                                        <p class="validation" *ngIf="unitlistjson[item.name][i]['ownershipstatus']=='UnSold Tenant Occupied Unit' && unitlistjson[item.name][i]['tenantlastname']==undefined||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[item.name][i]['tenantlastname']==undefined">Valid lastname is
                                           required</p> 
                                   </div>
                                    <div>
                                       <mat-form-field class="blockdetails-form1"
                                           *ngIf="unitlistjson[item.name][i]['ownershipstatus']=='UnSold Tenant Occupied Unit'||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                           <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">TENANT MOBILE NUMBER<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                           <input disabled="{{obj['disableField']==true}}" matInput placeholder="TENANT MOBILE NUMBER" 
                                           pattern="[0-9]*"
                                           minlength="10" maxlength="10"
                                           (keypress)=_keyPress($event)
                                   (keyup)="gettenantmobilenumber(unitlistjson[item.name][i]['Id'],unitlistjson[item.name][i]['tenantmobilenumber'],item.name)"
                                           [(ngModel)]="obj.tenantmobilenumber"
                                           [ngModelOptions]="{standalone:true}" value="">
                                       </mat-form-field>
                                       <p class="validation" *ngIf="unitlistjson[item.name][i]['isnotvalidtenantmobilenumber']">Valid mobile number is
                                           required</p>
                                       <p class="validation" *ngIf="unitlistjson[item.name][i]['ownershipstatus']=='UnSold Tenant Occupied Unit' && unitlistjson[item.name][i]['tenantmobilenumber']==undefined||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[item.name][i]['tenantmobilenumber']==undefined">Valid mobile number is
                                               required</p> 
                                   </div>  
                                     <div>
                                           <mat-form-field  class="blockdetails-form1"*ngIf="unitlistjson[item.name][i]['ownershipstatus']=='UnSold Tenant Occupied Unit'||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                               <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">TENANT EMAIL ID<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                               <input disabled="{{obj['disableField']==true}}" matInput placeholder="TENANT EMAIL-ID" 
                                               pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"
                                   (keyup)="gettenantemaiid(unitlistjson[item.name][i]['Id'],unitlistjson[item.name][i]['tenantemaiid'],item.name)"
                                               [(ngModel)]="obj.tenantemaiid"
                                               [ngModelOptions]="{standalone:true}" value="">
                                           </mat-form-field>
                                       <p class="validation" *ngIf="unitlistjson[item.name][i]['isnotvalidtenantemaiid']"> Valid email-id is required</p>
                                       <p class="validation" *ngIf="unitlistjson[item.name][i]['ownershipstatus']=='UnSold Tenant Occupied Unit' && unitlistjson[item.name][i]['tenantemaiid']==undefined||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[item.name][i]['tenantemaiid']==undefined">Valid email-id is required</p> 
                                       </div>
                                       
                                      
                                       </form>
                                   </div>
                                   <div>
                                       <button id="unitssubmit" mat-raised-button color="primary" disabled={{!isunitdetailsempty}} (click)="gotonexttab1($event,item.name,i)">{{item.displaytext}}</button>
                                   </div>
                                   <div class="save">
                                       <a class="resetforbulkunits" (click)="resetStep5bulk($event,item.name)"mat-raised-button color="primary">RESET</a>
                                   </div>    
                                
                               </mat-tab>
                            
                           </div> 
           
                       
                        </mat-tab-group>  -->
                       </div>

                    <!-- <div>
                        <button style="float: right;" class="btn-primary-purple" (click)="createUnitFromExcel()">
                            <i class="fa fa-plus" aria-hidden="true"></i>Upload Excel Blocks</button>
                    </div> -->

                </div>



            </div>

        </div>

    </div>

</div>
<ng-template #unitprogressbartemplate>
    <div class="modal-body">
        <progressbar [animate]="false" [max]="unitprogressvaluemax" [value]="unitprogressvalue" type="success">
            <span class="text-nowrap">{{unitprogressvalue}} / {{unitprogressvaluemax}} complete</span>
        </progressbar>
    </div>
</ng-template>
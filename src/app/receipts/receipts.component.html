<div class="container-fluid np">
    <div class="col-sm-9">
        <!--Profile section-->
        <app-left-bar></app-left-bar>
        <!--Profile section-->
        <div class="col-xs-12 col-sm-12 col-md-11 b-l">
            <!--Dashboard icons start-->
            <div class="col-md-12 m-t-30 dash">
                    <span class="black">Receipts For Manyata Association</span>

                <div class="switch">
                    <ul class="nav nav-pills">
                        <li><a (click)="goToExpense()">Expenses</a></li>
                        <li><a (click)="goToInvoice()">Invoice</a></li>
                        <li class="active"><a (click)="goToReceipts()">Receipts</a></li>
                    </ul>
                </div>
                <div class="enroll">
                    <div>
                            <button class="btn-primary-purple" (click)="openModal(template)"><i class="fa fa-plus"
                                aria-hidden="true"></i> Add Expense</button>
                    </div>
                    <div style="display: flex">
                            <button class="btn-primary-purple" (click)="openModal(template)"><i class="fa fa-file-pdf-o"
                                aria-hidden="true"></i> Invoiced</button>
                        <button class="btn-primary-purple" (click)="openModal(template)"><i class="fa fa-file-text"
                                aria-hidden="true"></i> Generate invoice</button>
                    </div>                                
                </div>
                <div>
                        <label>Search</label>
                        <input type="text" [(ngModel)]="searchTxt" class="form-control" name="searchTxt" placeholder="search name"> 
                    </div>
                <div class="dash-row">

                        <table class="table table-bordered" [mfData]="viewPayments | search:['unUnitID', 'inNumber', 'pyDate','pyAmtPaid']:searchTxt" #mf="mfDataTable" [mfRowsOnPage]="10">
                                <thead>
                                    <tr>
                                        <th>
                                            S.No.
                                        </th>
                                        <th>
                                            <mfDefaultSorter by="unUnitID">Unit Identifier</mfDefaultSorter>
                                        </th>
                                        <th>
                                            <mfDefaultSorter by="inNumber">Invoice No</mfDefaultSorter>
                                        </th>
                                        <th>
                                            <mfDefaultSorter by="pyDate">Date of Payment</mfDefaultSorter>
                                        </th>
                                        <th>
                                            <mfDefaultSorter by="pyAmtPaid">Amount</mfDefaultSorter>
                                        </th>
                                        <th>
                                            Action
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let item of mf.data;let i=index">
                                        <ng-container *ngIf="item == -1">
                                            <td colspan="6" align="center">No Data Found</td>
                                        </ng-container>
                                        <ng-container *ngIf="item!=-1">
                                            <td>{{(i+1)}}</td>
                                            <td>{{item['unUnitID']}}</td>
                                            <td>{{item['inNumber']}}</td>
                                            <td>{{item['pyDate'] | date : "d-M-y"}}</td>
                                            <td><i class="fa fa-inr"></i> {{item['pyAmtPaid']}}</td>
                                            <td> <i data-toggle="modal" data-target="#ViewReceiptTemplate" style="cursor: pointer"
                                            (click)="viewReceipt(item['unUnitID'],item['inNumber'],item['pyDate'],item['pyAmtPaid'])"
                                            class="fa fa-eye"></i> </td>
                                        </ng-container>
                                    </tr>
                                </tbody>
                                <tfoot>
                                    <tr>
                                        <td colspan="6">
                                            <mfBootstrapPaginator></mfBootstrapPaginator>
                                        </td>
                                    </tr>
                                </tfoot>
                            </table>

                </div>
            </div>
            <!--Dashboard icons end-->

        </div>

    </div>
    <!--rightBar start-->
    <app-right-bar></app-right-bar>
    <!--rightBar end-->
</div>

<ng-template #template>
    <div class="modal-header">
        <h4 class="modal-title pull-left">Modal</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        This is a modal.
    </div>
</ng-template>
<div class="modal fade" id="ViewReceiptTemplate" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header" style="padding-top:20px; background-color: #e1e1e1;">
                    <h4 class="modal-title" style="margin-left: 300px;" id="myModalLabel"><u>View Receipt</u></h4>
                    <button type="button" class="close" data-dismiss="modal" style="left:100%" aria-label="Close"><span
                            aria-hidden="true">Ã—</span></button>
                </div>
                <div class="modal-body">
    
                    <fieldset class="scheduler-border">
                        <div class="row" style="text-align:center;">
                            <br>
                            <div class="col-sm-3">
                                <p></p>
                                <h4>UnitIdentifier: </h4><span>{{unitIdentifier}}</span>
                                <p></p>
                                <br>
                            </div>
                            <div class="col-sm-3">
                                <p></p>
                                <h4>InvoiceNumber: </h4><span>{{invoiceNumber}}</span>
                                <p></p>
                                <br>
                            </div>
    
                            <div class="col-sm-3">
                                <p></p>
                                <h4>PaymentDate: </h4><span>{{pymtDate | date : "d-M-y"}}</span>
                                <p></p>
                                <br>
                            </div>
                            <div class="col-sm-3">
                                <p></p>
                                <h4>AmountPaid: </h4><span>{{amountPaid}}</span>
                                <p></p>
                                <br>
                            </div>
    
                        </div>
                    </fieldset>
    
                </div>
            </div>
        </div>
    </div>
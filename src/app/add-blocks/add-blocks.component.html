<div class="row">
    <!-- <div class="stepwizard">
        <div class="stepwizard-row setup-panel">
            <div class="stepwizard-step col-lg-3 col-sm-6 col-xs-12 step-active">
                <a class="active" href="#step-1" type="button" class="btn btn-success btn-default btn-circle-o"></a><span>Blocks
                    Details</span>
            </div>
  
        </div>
    </div> -->
        <div>
            <mat-tab-group class="mainpage" [(selectedIndex)]="demo1TabIndex">
                <mat-tab label="BLOCKS DETAILS">
                    <div style= "margin-top: 22px;" class="col-sm-12">
                        <h5 style="color:#e59400;text-transform: uppercase;font-weight: bold;">Blocks Details</h5>
                        <div class="addblocksleft">
                            <div class="form-groupblocks">
                              <mat-form-field class="blockdetails-form">
                                <mat-label>Block Name/Number<span class="red">*</span></mat-label>
                                <input matInput placeholder="Block Name/Number" 
                                pattern="[a-zA-Z0-9 _]*" 
                                (keyup)="validateblockname($event,blockname)"
            
                                #blocknameControl="ngModel"
                                autocomplete='blockname'
                                class = "text" id="label" [(ngModel)]="blockname" [ngModelOptions]="{standalone: true}" value="">
                              </mat-form-field>
                              <p class="validation" *ngIf="blockdetailsvalid">Valid name is required</p>
            
                        <!-- <p class="validation" *ngIf="blocksArray[i]['isnotvalidblockname']">Valid name is required</p> -->
                        <!-- <p class="validation" *ngIf="blocksArray[i]['blockname']==undefined">Valid name is required</p> -->
            
                            </div>
                              <div class="form-groupblocks">
                                <!-- <label>Block Type</label>
                                <div class="dropdown">
                                    <button class="btn btn-primary dropdown-toggle sdm br form-control"
                                        type="button" data-toggle="dropdown">{{blocktype}}
                                        <i aria-hidden="true" class="fa fa-angle-down fa-1x"></i></button>
                                    <ul class="dropdown-menu fullw">
                                    <li (click)="getBlockType('Residential')"><a>Residential</a></li>
                                    <li (click)="getBlockType('Commercial')"><a>Commercial</a></li>
                                    <li (click)="getBlockType('Residential and Commercial')"><a>Residential and Commercial</a></li>
                                    </ul>
                                </div> -->
                                <mat-form-field class="blockdetails-form">
                                <mat-label>Block Type<span class="red">*</span></mat-label>
                                    <mat-select [disabled]="condition" [(value)]="singleblocktype" 
                                    (change)="getblocktypevalid($event.value)">
                                        <mat-option *ngFor="let property of blockType" [value]="property">{{property}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                                 <p class="validation" *ngIf="blocktypevalid">Valid block Type is required</p> 
                                <!-- <p class="validation" *ngIf="blocksArray[i]['blocktype']==undefined">Valid block Type is required</p> -->
            
                            </div>
                            <div class="form-groupblocks">
                                <!-- <label id=label3>No of Units <span class="red">*</span></label>
                                <input type="text" name="noofunits" id="input3" autocomplete='noofunits' [(ngModel)]="noofunits"
                                    #noofunitsControl="ngModel" class="form-control" placeholder="No Of Units" pattern="[0-9]*" required />
                                <p class="alerts" *ngIf="noofunitsControl.invalid && noofunitsControl.touched">No of units are required</p> -->
                                <mat-form-field class="blockdetails-form">
                                    <mat-label>No Of Units<span class="red">*</span></mat-label>
                                    <input matInput placeholder="No Of Units" 
                                    pattern="[0-9]*" 
                                    (keypress)=_keyPress($event)
                                    (keyup)="validatenoofunits($event,noofunits)"
                                    [(ngModel)]="noofunits"[ngModelOptions]="{standalone:
                                        true}" value="">
                                </mat-form-field>
                                <p class="validation" *ngIf="noofunitsvallid">No of units are required</p> 
                                <!-- <p class="validation" *ngIf="blocksArray[i]['units']==undefined">No of units are required</p> -->
                            </div>
                        </div> 
                    </div>
                           
                            <div class="col-sm-12">
                                <hr>
                            </div>
                            <div class="col-sm-12">
                        <h5 style="color:#e59400;text-transform: uppercase;font-weight: bold;">Facility Manager Details</h5>

                        <div class="addblocksleft">
                            <div class="form-groupblocks">
                                <!-- <label id=label4>Manager Name <span class="red">*</span></label>
                                <input type="text" name="mngName" id="input4" autocomplete='mngName' [(ngModel)]="mngName"
                                    #managernameControl="ngModel" class="form-control" placeholder="Manager Name" pattern="[a-zA-Z _]*" required (keypress)="_keyPress2($event)"/>
                                <p class="alerts" *ngIf="managernameControl.invalid && managernameControl.touched">Manager name is required</p>-->
                           
                                <mat-form-field class="blockdetails-form">
                                    <mat-label>Facility Manager</mat-label>
                                    <input class = "text" 
                                    (keypress)="_keyPress2($event)"
                                    (keyup)="validatemanagername($event,mngName)"
                                    autocomplete='mngName'
                                    matInput placeholder="FFacility Manager" 
                                    [(ngModel)]="mngName" 
                                    [ngModelOptions]="{standalone:true}"
                                    value=""pattern="[a-zA-Z _]*">
                                </mat-form-field>
                                <p class="validation" *ngIf="managernamevalid">Fecility Managername is required</p>
            
                            <!-- <p class="validation" *ngIf="blocksArray[i]['isnotvalidmanagername']">Manager name is required</p> -->
                            <!-- <p class="validation" *ngIf="blocksArray[i]['managername']==undefined">Manager name is required</p> -->
                           
                            </div> 
                  
                            <div class="form-groupblocks">
            <!-- 
                                <label id=label5>Manager Mobile Number <span class="red">*</span></label>
                                <input type="text" name="mobile" id="input5" autocomplete='mobile' [(ngModel)]="mobile"
                                    #managernumberControl="ngModel" class="form-control" placeholder="Manager Mobile Number" minlength="10"
                                    maxlength="10" pattern="[0-9]*" required (keypress)=_keyPress($event) />
                                <p class="alerts" *ngIf="managernumberControl.invalid && managernumberControl.touched">Manager mobile number is required</p>
                           -->
                           <mat-form-field class="blockdetails-form">
                            <mat-label>Mobile Number</mat-label>
                            <input matInput placeholder="Mobile Number"
                            pattern="[0-9]*" 
                            (keypress)=_keyPress($event)
                            minlength="10"
                            maxlength="10"
                            (keyup)="validatemanagermobilenumber($event,mobile)"
                            [ngModelOptions]="{standalone:true}"
                                [(ngModel)]="mobile" value="">
                        </mat-form-field>
                        <p class="validation" *ngIf="managermobilevalid">Manager mobile is required</p>
                       <!-- <p class="validation" *ngIf="blocksArray[i]['managermobileno']==undefined">Manager mobile number is required</p> -->
                            </div>
                            
                            <div class="form-groupblocks">
            
                                <!-- <label id=label6>Manager Email Id <span class="red">*</span></label>
                                <input type="text" name="manageremail" id="input6" autocomplete='manageremail'
                                  [(ngModel)]="manageremail" #manageremailControl="ngModel" class="form-control"
                                  placeholder="Manager Email Id"
                                  pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"
                                  required />
                                <p class="alerts" *ngIf="manageremailControl.invalid && manageremailControl.touched">Manager email-id is required</p>
                               -->
            
                               <mat-form-field class="blockdetails-form">
                                <mat-label>Email Id</mat-label>
                                <input matInput placeholder="Email Id" 
                                pattern="[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*"
                                [(ngModel)]="manageremail"[ngModelOptions]="{standalone:true}"
                                (keyup)="validatemanageremail($event,manageremail)"
                                value="">
                            </mat-form-field>
                            <!-- <p class="validation" *ngIf="manageremailvalid">Manager email-id is required</p>  -->
                           <!-- <p class="validation" *ngIf="blocksArray[i]['manageremailid']==undefined">Manager email-id is required</p> -->
                            </div>
                        
                        </div> 
                            </div>

                          
                            <div class="col-sm-12">
                                <hr>
                            </div>
                           
                            <div class="col-sm-12">
                                <h5 style="color:#e59400;text-transform: uppercase;font-weight: bold;">Maintenance Details</h5>
                                <!-- <div class="addblocksleft">
                              
                                    <div class="form-groupblocks">
                                        <mat-form-field class="blockdetails-form">
                                            <mat-label>FLAT RATE VALUE<span class="red">*</span></mat-label>
                                            <input class="text" (keypress)="_keyPress($event)" (keyup)="validateflatratevalue($event,ASMtFRate)" matInput
                                                placeholder="VALUE" [(ngModel)]="ASMtFRate" [ngModelOptions]="{standalone:true}" value=""
                                                pattern="^[+-]?((\.\d+)|(\d+(\.\d+)?))$">
                                        </mat-form-field>
                                        <p class="validation" *ngIf="flatratevalue">Flat rate value is required</p>
                                    </div>
                                    <div class="form-groupblocks">
                                        <mat-form-field class="blockdetails-form">
                                            <mat-label>MAINTENANCE VALUE<span class="red">*</span></mat-label>
                                            <input class="text" (keypress)="_keyPress($event)" (keyup)="validatemaintenancevalue($event,ASMtDimBs)" matInput
                                                placeholder="MAINTENANCE VALUE" [(ngModel)]="ASMtDimBs" [ngModelOptions]="{standalone:true}" value=""
                                                pattern="^[0-9]+(\.[0-9]{1,2})?$">
                                        </mat-form-field>
                                        <p class="validation" *ngIf="maintenancevalue">Invalid Maintenance Value</p>
                                    </div>
                                    <div class="form-groupblocks">
                                        <mat-form-field class="blockdetails-form">
                                            <mat-label>MAINTENANCE TYPE<span class="red">*</span></mat-label>
                                            <mat-select [(value)]="ASMtType" (change)="getASMtType($event.value)">
                                                <mat-option *ngFor="let item of ASMtTypes" [value]="item">{{item}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                 
                                </div>  -->
                                <!-- <div>
                                    <div class="form-group">
                                        <div class="col-sm-3">
                                            <label>Flat Rate Value <span class="red">*</span></label>
                                            <input class="form-control" type="text" name="flatRatevalue" [(ngModel)]="ASMtFRate" placeholder="Value"
                                                #flatRatevalueControl='ngModel' pattern="^[+-]?((\.\d+)|(\d+(\.\d+)?))$" required>
                                            <small>Amount to be charged</small>
                                        </div>
                                        <div class="col-sm-3">
                                            <label>Maintenance Value<span class="red">*</span></label>
                                            <input class="form-control" type="text" name="maintenanceValue" #maintenanceValueControl='ngModel'
                                                [(ngModel)]="ASMtDimBs" placeholder="Maintenance Value " required
                                                pattern="^[0-9]+(\.[0-9]{1,2})?$">
                                            <p class="classred" *ngIf="maintenanceValueControl.invalid && maintenanceValueControl.touched">Invalid
                                                Maintenance
                                                Value
                                            </p>
                                            <small>Rate (SQFT / SQMTR) </small>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                            
                                        </div>
                                        <div class="form-group">
                                            <mat-form-field class="blockdetails-form">
                                                <mat-label>MAINTENANCE TYPE<span class="red">*</span></mat-label>
                                                <mat-select [(value)]="ASMtType" (change)="getASMtType($event.value)">
                                                    <mat-option *ngFor="let item of ASMtTypes" [value]="item">{{item}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                    </div> -->
                                    <div class="addblocksleft">
                                        <div class="form-groupblocks">
                                            <mat-form-field class="blockdetails-form">
                                                <mat-label>Unit Of Measurement</mat-label>
                                                <input matInput placeholder="Unit Of Measurement" value="Sqft"readonly>
                                            </mat-form-field>
                                        </div>
                                        <div class="form-groupblocks">
                                            <mat-form-field class="blockdetails-form">
                                                <mat-label>Invoice Creation Frequency<span class="red">*</span></mat-label>
                                                <mat-select [(value)]="ASIcRFreq"
                                                    placeholder="Select Frequency">
                                                    <mat-option *ngFor="let frequency of frequencies" [value]="frequency['displayName']">{{frequency['displayName']}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                        <div class="form-groupblocks">
                                            <mat-form-field class="blockdetails-form">
                                                <mat-label>Invoice Generation Date<span class="red">*</span></mat-label>
                                                <input matInput placeholder="Invoice Generation Date" 
                                                [(ngModel)]="billGenerationDate" (click)="getInvoiceGenerationDate(blocksArray[i]['Id'],$event)"
                                                value="" [bsConfig]="bsConfig" bsDatepicker placement="top">
                                            </mat-form-field>
                                           <!-- <p class="validation" *ngIf="blocksArray[i]['Invoice Generation Date']==undefined">Invoice Generation Date is required</p>
                                           <p class="validation" *ngIf="blocksArray[i]['isNotvalidInvoiceGenerationDate']">Invoice Generation Date is required</p> -->
                                        </div>
                                        <!-- <div class="form-groupblocks">
                                            <label>INVOICE GENERATION DATE<span class="red">*</span></label>
                                            <input type="text" class="form-control" name="billGenerationDate" #NextInvoiceGenDateControl='ngModel'
                                              placeholder="INVOICE GENERATION DATE" [bsConfig]="bsConfig" [(ngModel)]="billGenerationDate" bsDatepicker required placement="top" />
                                          </div> -->
                                    </div> 
                                    <div class="addblocksleft">
                                        <div class="form-groupblocks">
                                            <mat-form-field class="blockdetails-form">
                                                <mat-label>Due Date<span class="red">*</span></mat-label>
                                                <input matInput placeholder="Due Date" 
                                                [(ngModel)]="dueDate" (click)="getDueDate($event,dueDate)"
                                                value="" [bsConfig]="bsConfig" bsDatepicker placement="top">
                                            </mat-form-field>
                                           <!-- <p class="validation" *ngIf="blocksArray[i]['Due Date']==undefined">Invalid Due Date</p> -->
                                           <!-- <p class="validation" *ngIf="blocksArray[i]['isNotvalidDueDate']">Invalid Due Date</p> -->
                                          </div>
                                        <!-- <div class="form-groupblocks">
                                            <label>DUE DATE<span class="red">*</span></label>
                                            <input type="text" class="form-control" name="dueDate" #DueDateControl='ngModel' placeholder="DUE DATE"
                                              [bsConfig]="bsConfig" [(ngModel)]="dueDate" bsDatepicker required placement="top" />
                                          </div> -->
                                          <div class="form-groupblocks">
                                            <mat-form-field class="blockdetails-form">
                                                <mat-label>Late Payment Charge Type<span class="red">*</span></mat-label>
                                                <mat-select [(value)]="latePymtChargeType"
                                                    placeholder="Late Payment Charge Type">
                                                    <mat-option *ngFor="let lpct of latePymtChrgTypes" [value]="lpct['name']">{{lpct['name']}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                          <!-- <div class="form-groupblocks">
                                            <label class="control-label">LATE PAYMENT CHARGE TYPE<span class="red">*</span></label>
                                            <div class="dropdown">
                                              <button class="btn btn-primary dropdown-toggle sdm br form-control" type="button"
                                                data-toggle="dropdown">{{latePymtChargeType == ''?'SELECT CHARGE TYPE':latePymtChargeType}}
                                                <i aria-hidden="true" class="fa fa-angle-down fa-1x"></i></button>
                                              <ul class="dropdown-menu fullw">
                                                <li *ngFor='let lpct of latePymtChrgTypes' (click)="getLatePymtChargeType(lpct['name'])"><a>{{lpct['name']}}</a>
                                                </li>
                                              </ul>
                                            </div>
                                          </div> -->
                                          <div class="form-groupblocks">
                                            <mat-form-field class="blockdetails-form">
                                                <mat-label>Late Payment Charge<span class="red">*</span></mat-label>
                                                <input class="text" (keypress)="_keyPress($event)" (keyup)="validatelatepayment($event,latePymtCharge)" matInput
                                                    placeholder="Late Payment Charge" [(ngModel)]="latePymtCharge" [ngModelOptions]="{standalone:true}" value=""
                                                    pattern="[0-9]+(\.[0-9][0-9]?)?" >
                                            </mat-form-field>
                                            <p class="validation" *ngIf="latePaymentchargevalid">Invalid Late Payment Charge</p>
                                        </div>
                                          <!-- <div class="form-groupblocks">
                                            <label>LATE PAYMENT CHARGE<span class="red">*</span></label>
                                            <input class="form-control" type="text" #latePymtChargeControl='ngModel' name="latePymtCharge"
                                             autocomplete="latePymtCharge" [(ngModel)]="latePymtCharge" placeholder="LATE PAYMENT CHARGE"
                                              pattern="[0-9]+(\.[0-9][0-9]?)?" required>
                                            <p class="alerts" *ngIf="latePymtChargeControl.invalid && latePymtChargeControl.touched">Invalid Late Payment Charge
                                            </p>
                                          </div> -->
                                   
                                     
                                          <!-- <div class="form-groupblocks">
                                            <label>STARTS FROM<span class="red">*</span></label>
                                            <input class="form-control" type="text" name="startsFrom" #StartsFromDateControl='ngModel'
                                               placeholder="Starts From Date" [bsConfig]="bsConfig"
                                              [(ngModel)]="startsFrom" bsDatepicker required
                                               placement="bottom" />
                                          </div> -->
                                    </div>
                                    <div class="addblocksleft">
                                        <div class="form-groupblocks">
                                            <mat-form-field class="blockdetails-form">
                                                <mat-label>Starts From<span class="red">*</span></mat-label>
                                                <input matInput placeholder="Starts From" 
                                                [(ngModel)]="startsFrom" (click)="getStartsFromDate($event,startsFrom)" 
                                                value="" [bsConfig]="bsConfig" bsDatepicker placement="top">
                                            </mat-form-field>
                                           <!-- <p class="validation" *ngIf="blocksArray[i]['Starts From']==undefined">Invalid Start Date</p>
                                           <p class="validation" *ngIf="blocksArray[i]['isNotvalidStartdate']">Invalid Start Date</p> -->
                                          </div>
                                      </div>
                            </div>
                          
                  
                    <!-- <div class="form-group">
                    <label>Unit of Measurement <span class="red">*</span></label>
                    <input class="form-control" type="text" disabled="true" required name="measurements" value="sqft" autocomplete="measurements">
                  </div>
                  <div class="form-group">
                    <label>Invoice Creation Frequency <span class="red">*</span></label>
                    <input class="form-control" list="frquency" name="frequency" [(ngModel)]="ASIcRFreq"
                      placeholder="Search or Select Frequency" #frequencyControl='ngModel' required multiple>
                    <datalist id="frquency">
                      <option value="">Select Frequency</option>
                      <option *ngFor="let frequency of frequencies" [value]="frequency['displayName']">
                        {{frequency['displayName']}}
                      </option>
                    </datalist>
                    <p class="alerts" *ngIf="frequencyControl.invalid && frequencyControl.touched">Invalid Invoice Frequency
                    </p>
                  </div> -->
                  <!-- <div class="form-group">
                    <label>Invoice Generation Date <span class="red">*</span></label>
                    <input type="text" class="form-control" name="billGenerationDate" #NextInvoiceGenDateControl='ngModel'
                      placeholder="Invoice Generation Date" [bsConfig]="bsConfig" [(ngModel)]="billGenerationDate" bsDatepicker required placement="top" />
                  </div> -->
           
                           
                            <div class="col-sm-12 pull-right" style="display: flex;justify-content: center;">
                                <button class="btn btn-primary-purple nextBtn m-r" type="reset" (click)='resetStep1()'>RESET</button>
                                <button [disabled]="blockname == '' || blocktype == '' || noofunits == '' || ASIcRFreq == '' || billGenerationDate == null || dueDate == null || latePymtChargeType == '' ||latePymtCharge == ''|| startsFrom == null" (click)='createBlock()' class="btn btn-primary-purple nextBtn m-r" type="submit">ADD BLOCK</button>
                            </div>
                       
                
                        <!-- <div class="panel panel-primary setup-content" id="step-2">
                          
                            <div class="addblocksleft">
                                <div class="form-groupblocks">
                                
                                    <mat-form-field class="blockdetails-form">
                                        <mat-label>MANAGER NAME</mat-label>
                                        <input class = "text" 
                                        #managernameControl="ngModel"
                                        (keypress)="_keyPress2($event)"
                                        (keyup)="validatemanagername($event,mngName)"
                                        autocomplete='mngName'
                                        matInput placeholder="MANAGER NAME" 
                                        [(ngModel)]="mngName" 
                                        [ngModelOptions]="{standalone:true}"
                                        value=""pattern="[a-zA-Z _]*">
                                    </mat-form-field>
                                    <p class="validation" *ngIf="managernamevalid">Manager name is required</p>
                
                                </div> 
                                <div class="form-groupblocks">
                
                               <mat-form-field class="blockdetails-form">
                                <mat-label>MANAGER MOBILE NUMBER</mat-label>
                                <input matInput placeholder="MANAGER MOBILE NUMBER"
                                pattern="[0-9]*" 
                                (keypress)=_keyPress($event)
                                minlength="10"
                                maxlength="10"
                                (keyup)="validatemanagermobilenumber($event,mobile)"
                                [ngModelOptions]="{standalone:true}"
                                    [(ngModel)]="mobile" value="">
                            </mat-form-field>
                            <p class="validation" *ngIf="managermobilevalid">Manager mobile is required</p>
                                </div>
                                
                                <div class="form-groupblocks">
                
                                   <mat-form-field class="blockdetails-form">
                                    <mat-label>MANAGER EMAIL ID</mat-label>
                                    <input matInput placeholder="MANAGER EMAIL ID" 
                                    pattern="[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*"
                                    [(ngModel)]="manageremail"[ngModelOptions]="{standalone:true}"
                                    (keyup)="validatemanageremail($event,manageremail)"
                                    value="">
                                </mat-form-field>
                                <p class="validation" *ngIf="manageremailvalid">Manager email-id is required</p> 
                                </div>
                            </div>
                            <div class="col-sm-12 pull-right">
                                <button class="btn btn-primary-purple nextBtn m-r" type="reset" (click)='resetStep2()'>Reset</button>
                                <button [disabled]="mngName == '' || mobile == '' || manageremail == ''"class="btn btn-primary-purple nextBtn m-r" type="submit">Add Block</button>
                            </div>
                
                        </div> -->
                
                     
                    
                </mat-tab>
            </mat-tab-group>
   
</div>
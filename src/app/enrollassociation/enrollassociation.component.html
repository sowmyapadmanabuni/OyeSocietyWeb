<mat-tab-group class="mainpage" [(selectedIndex)]="demo1TabIndex">
    <div class="blockdetailsdata">
        <mat-tab #tab [disabled]='!tab.isActive' label="ASSOCIATION DETAILS">
            <div class="page1">
                <form [formGroup]="form" class="association-form">
                    <mat-form-field class="association-full-width">
                        <mat-label>Association Name<span class="red">*</span></mat-label>
                        <input matInput placeholder="Association Name" 
                        pattern="[A-Za-z\s]+"
                        (keypress)="_keyPress5($event)"
                        matTooltip="This name should match as given in the Association Pan Card" class = "text" 
                        formControlName="asnname" [(ngModel)]="assname"
                            value="">
                        <mat-error [displayError]="isFieldValid('asnname')">
                            {{ titleAlert }}
                        </mat-error>
                    </mat-form-field>
                </form>
                <!-- <mat-grid-tile>
                <div class="container">
                    <input type="file" style="display: none" #fileInput accept="image/*" (change)="onChangeFileInput()" />
                    <mat-icon>Choose_file</mat-icon>
                    <button mat-raised-button color="primary" class="file-select-button" (click)="onClickFileInputButton()">
                      Upload
                    </button>

                    <p class="file-name" *ngIf="!file; else fileName">No file chosen</p>
                    <ng-template #fileName>
                      <p class="file-name">{{ file?.name }}</p>
                    </ng-template>
                  </div>
            </mat-grid-tile> -->

            <!-- <i matTooltip="Upload Logo of Max 2MB of Formats allowed are:PNG,JPG and Resolution of 128*128"
                class="fa fa-question-circle" aria-hidden="true"></i>
            <mat-label class="logo">Upload logo</mat-label>
            <input type="file" id="img" accept="image/png,imge/jpeg" />
            <a mat-raised-button color="primary" class="Upload">Upload</a> -->
            <!-- <mat-label class="logoassociation">Upload logo</mat-label>
            <i matTooltip="Upload Logo of Max 2MB of Formats allowed are:PNG,JPG and Resolution of 128*128"
            class="fa fa-question-circle" aria-hidden="true"></i> -->
         

                <!-- <form class="association-form">
                    <p>Upload Logo of Max 2MB of Formats allowed</p>
                </form>
 -->

                

                <form [formGroup]="form" class="association-formcountry">
                    <mat-form-field>
                        <mat-label>Country<span class="red">*</span></mat-label>
                        <mat-select (selectionChange)="selectedcountry($event)" formControlName="cntryname">
                            <mat-option *ngFor="let country of countrieslist" class = "text" [value]="country">{{country.coName}}
                            </mat-option>
                        </mat-select>
                        <mat-error [displayError]="isFieldValid('cntryname')">
                            {{ titleAlert }}
                        </mat-error>
                    </mat-form-field>
                </form>
                
                <form [formGroup]="form" class="association-form">
                    <mat-form-field>
                        <mat-label>State<span class="red">*</span></mat-label>
                        <mat-select formControlName="statename">
                            <mat-option *ngFor="let state of stateslist" (onSelectionChange)="selectedstate(state)" [value]="state">{{state.stName}}
                            </mat-option>
                        </mat-select>
                        <mat-error [displayError]="isFieldValid('statename')">
                            {{ titleAlert }}
                        </mat-error>
                    </mat-form-field>
                </form>
                
                <form [formGroup]="form" class="association-form">
                    <mat-form-field>
                        <mat-label>City<span class="red">*</span></mat-label>
                        <mat-select formControlName="cityname">
                            <mat-option *ngFor="let city of citylist" (onSelectionChange)="selectedcity(city)" [value]="city">{{city.ctName}}
                            </mat-option>
                        </mat-select>
                        <mat-error [displayError]="isFieldValid('cityname')">
                            {{ titleAlert }}
                        </mat-error>
                    </mat-form-field>
                </form>
                <br>
                <!-- <form [formGroup]="form" class="association-form">
                    <mat-form-field class="association-full-width">
                        <mat-label>CITY</mat-label>
                        <input matInput placeholder="CITY" pattern="[a-zA-Z\s]*"formControlName="cityname" class = "text" [(ngModel)]="city" value="">
                        <mat-error [displayError]="isFieldValid('cityname')">
                            {{ titleAlert }}
                        </mat-error>
                    </mat-form-field>
                </form> -->
               
                <form [formGroup]="form" class="association-form">
                    <mat-form-field class="association-full-width">
                        <mat-label>Pin/Zip/Postal Code<span class="red">*</span></mat-label>
                        <input matInput placeholder="Pin/Zip"pattern="[0-9]*" 
                         pattern="^\d{6,}$"
                         (keypress)=_keyPress($event)
                        minlength="5"
                        maxlength="6" 
                        formControlName="zipcode" [(ngModel)]="postalcode"
                            value="">
                        <mat-error [displayError]="isFieldValid('zipcode')">
                            {{ titleAlert }}
                        </mat-error>
                    </mat-form-field>
                </form>
                <form [formGroup]="form" class="association-form">
                    <mat-form-field class="association-full-width">
                        <mat-label>Locality<span class="red">*</span></mat-label>
                        <input matInput placeholder="Locality"class = "text" 
                        pattern="[A-Za-z\s]+"
                        maxlength="255"
                        (keypress)="_keyPress5($event)"

                        formControlName="locname" [(ngModel)]="locality"
                            value="">
                        <mat-error [displayError]="isFieldValid('locname')">
                            {{ titleAlert }}
                        </mat-error>
                    </mat-form-field>
                </form>
                <form [formGroup]="form" class="association-form">
                    <mat-form-field>
                        <mat-label>Property Type<span class="red">*</span></mat-label>
                        <mat-select [(value)]="propertytype" formControlName="prprtytype">
                            <mat-option *ngFor="let property of propertyType" [value]="property">{{property}}
                            </mat-option>
                        </mat-select>
                        <mat-error [displayError]="isFieldValid('prprtytype')">
                            {{ titleAlert }}
                        </mat-error>
                    </mat-form-field>
                </form>
                
                <form [formGroup]="form" class="association-form">
                    <mat-form-field class="association-full-width">
                        <mat-label>Property Name<span class="red">*</span></mat-label>
                        <input matInput placeholder="Property Name"
                        pattern="[a-zA-Z\s]*"
                         class = "text"formControlName="prtyname"
                            [(ngModel)]="propertyname" value="">
                        <mat-error [displayError]="isFieldValid('prtyname')">
                            {{ titleAlert }}
                        </mat-error>
                    </mat-form-field>
                </form>
               
                <br>
                <form [formGroup]="form" class="association-form">
                    <mat-form-field class="association-full-width">
                        <mat-label>Association Email<span class="red">*</span></mat-label>
                        <input matInput placeholder="Association Email" 
                        pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"
                        formControlName="assemail"
                            [(ngModel)]="Associationemail" value="">
                        <mat-error [displayError]="isFieldValid('assemail')">
                            {{ titleAlert }}
                        </mat-error>
                    </mat-form-field>
                </form>
                <form [formGroup]="form" class="association-form">
                    <mat-form-field class="association-full-width">
                        <mat-label>Association Website Url</mat-label>
                        <input matInput placeholder="URL" 
                         pattern="^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$"
                        formControlName="urlset" [(ngModel)]="url" value="">
                        <mat-error [displayError]="isFieldValid('urlset')">
                            {{ titleAlert }}
                        </mat-error>
                    </mat-form-field>
                </form>
                <form *ngIf="fileName!='No file chosen...'" [formGroup]="uploadForm" class="association-form">
                        <div class="file-upload">
                            <label class="control-label" style="width: 100%;text-align: center;">Upload Association logo</label>
                            <div class="file-select">
                                <div class="file-select-button" (click)="openFileinput()" id="fileName">Choose File
                                </div>
                                <div class="file-select-name" id="noFile"><a href="#" (click)="showImgOnPopUp($event,UploadedImagetemplate,thumbnailASAsnLogo,'Association Image')">{{fileName}}</a></div>
                                <input style="cursor: pointer;" type="file" accept="image/*" [ngStyle]="{'display':hidechooseFile1 ? 'none' : 'block' }" (change)="onFileSelect($event)" name="chooseFile1" id="chooseFile1">
                            </div>
                        </div>
                </form>
               
                <form *ngIf="fileName=='No file chosen...'" [formGroup]="uploadForm" class="association-form">
                    <div class="file-upload">
                        <label class="control-label" style="width: 100%;text-align: center;">Upload Association logo</label>
                        <div class="file-select">
                            <div class="file-select-button" id="fileName">Choose File
                            </div>
                            <div class="file-select-name" id="noFile">{{fileName}}</div>
                            <input style="cursor: pointer;" type="file" accept="image/*" (change)="onFileSelect($event)" name="chooseFile" id="chooseFile">
                        </div>
                    </div>
                        <!-- <label class="control-label" style="width: 100%;">Upload Association logo</label>
                        
                        <div class="file-select">
                            <div class="file-select-button" id="fileName">Choose File</div>
                            <div class="file-select-name" id="noFile">No file chosen...</div>
                            <input #fileInput2 type="file" id="assnfile" (change)="onFileSelect($event)" (click)="fileopen($event,fileInput2)">
                        </div> -->

                        <div style="width: 130px;">
                            <!-- <i class="fa fa-cloud-upload fa-2x" matTooltip="Upload" id="assnuploadicon"aria-hidden="true" type="submit" (click)="processFile()"></i> -->
        
                        <!-- <button mat-raised-button color="primary" class="Upload" type="submit">Upload</button> -->
                        <!-- <img [hidden]="thumbnailASAsnLogo==undefined" class="Upload1" (click)="showImgOnPopUp(UploadedImagetemplate,thumbnailASAsnLogo,'Association Image')" src="{{thumbnailASAsnLogo}}" width="50px" height="50px"/> -->
                        </div>
                        <!-- <input type="file" id="img" name="profile" (change)="onFileSelect($event)" /> -->
                         <!-- <img *ngIf="thumbnailASAsnLogo==undefined" class="Upload1" src="../../assets/images/map_placeholder.png" width="50px" height="50px"/> -->
                    </form>
                <br>
                <div class="save">
                    <a class="continue" (click)="resetStep1($event)"mat-raised-button color="primary">RESET</a>
                    <a id="assdetailssave"mat-raised-button color="primary" [disabled]="!form.valid"(click)="submitassociationdetails($event)">SAVE & CONTINUE</a>
                </div>

            </div>
        </mat-tab>

        <mat-tab #tab [disabled]='!tab.isActive' label="GST & PAN DETAILS">
            <form [formGroup]="gstpanform" class="association-form3" style="padding-left: 125px;">
                <mat-form-field class="association-full-width">
                    <mat-label>GST NUMBER</mat-label>
                     <input matInput placeholder="Gst Number"
                     matTooltip="Please enter registered GST number of the association"
                    formControlName="gst"
                    (blur)="fillPANValue()"
                    [(ngModel)]="gstnumber" 
                    autocomplete='gstnumber'
                    pattern="^([0-9]{2}[a-zA-Z]{5}[0-9]{4}[a-zA-Z]{1}[1-9a-zA-Z]{1}[zZ]{1}[0-9a-zA-Z]{1})+$" minlegth=15 maxlength=15 
                    value="">
                    <mat-error [displayError]="isFieldValidPanDetails('gst')">
                        {{ titleAlert }}
                    </mat-error>
                </mat-form-field>
                <p class="panextext">Ex: 22AAAAA0000A1Z5</p> 
            </form>
            <form [formGroup]="gstpanform" class="association-form3" style="padding-left:239px">
                <mat-form-field class="association-full-width">
                    <mat-label>PAN NUMBER<span class="red">*</span></mat-label>
                    <input matInput placeholder="Pan Number"
                        matTooltip="Please enter registered pan number of the association" class="pantext1"
                        [(ngModel)]="pannumber" value=""
                        formControlName="originalpan"
                        autocomplete='pannumber' 
                        (keyup)="pan_validate($event)"
                        pattern="[a-zA-Z]{5}[0-9]{4}[a-zA-Z]{1}"
                        minlength=10 maxlength=10>
                    <mat-error [displayError]="isFieldValidPanDetails('originalpan')">
                        Please Enter Valid Pan Number
                    </mat-error>
                </mat-form-field>
                <p class="panextext">Ex: PAAAA1234A</p> 

            </form>
            <div id="pancardupload">
                <!-- <mat-label class="control-label">Upload Scanned Pan Card</mat-label> -->
            
                <!-- <label class="control-label">Upload Scanned Pan Card</label> -->
                <!-- <input type="file" name="uploadPANCard" autocomplete='crtAss.uploadPANCard'
                          [(ngModel)]="crtAssn.uploadPANCard" #uploadPANCardControl="ngModel" class="form-control"
                          (change)='onFilSelected($event)' id="uploadPaninput" style="font-family: Quicksand"
                          pattern="(.*?)\.(png|jpeg|jpg)$" /> -->
                          <div>
                            <!-- <form [formGroup]="uploadPanForm">
                                <input #fileInput3 type="file" id="uploadCaptureInputFile" name="panProfile" (change)="onPanFileSelect($event)"
                                    (click)="fileopen1($event,fileInput3)">
                            
                                <i class="fa fa-cloud-upload fa-2x" matTooltip="Upload" id="panuploadicon" aria-hidden="true" type="submit"
                                    (click)="processPanFile()"></i>
                                <img [hidden]="uploadPANCardThumbnail == undefined" id="pancardimg"
                                    (click)="showImgOnPopUp(UploadedImagetemplate,uploadPANCardThumbnail,'PAN Card Scanned Copy')"
                                    src="{{uploadPANCardThumbnail}}" width="50px" height="50px" style="padding:4px" />
                            </form> -->
                            <form *ngIf="PANfileName!='No file chosen...'" [formGroup]="uploadPanForm" class="association-form">
                                <div class="file-upload">
                                    <label class="control-label" style="width: 100%;text-align: center;">Upload Scanned Pan Card</label>
                                    <div class="file-select">
                                        <div class="file-select-button" (click)="openPANFileinput()" id="PANfileName">Choose File
                                        </div>
                                        <div class="file-select-name" id="noFile"><a href="#"
                                                (click)="showImgOnPopUp($event,UploadedImagetemplate,uploadPANCardThumbnail,'PAN Card Scanned Copy')">{{PANfileName}}</a>
                                        </div>
                                        <input style="cursor: pointer;" type="file" accept="image/*" [ngStyle]="{'display':hidePANchooseFile1 ? 'none' : 'block' }"
                                            (change)="onPanFileSelect($event)" name="panProfile1" id="panProfile1">
                                    </div>
                                </div>
                            </form>
                            <form *ngIf="PANfileName=='No file chosen...'" [formGroup]="uploadPanForm" class="association-form">
                                <div class="file-upload">
                                    <label class="control-label" style="width: 100%;text-align: center;">Upload Scanned Pan Card</label>
                                    <div class="file-select">
                                        <div class="file-select-button" id="fileName">Choose File
                                        </div>
                                        <div class="file-select-name" id="noFile">{{PANfileName}}</div>
                                        <input style="cursor: pointer;" type="file" accept="image/*" (change)="onPanFileSelect($event)" name="panProfile" id="panProfile">
                                    </div>
                                </div>
                            </form>
                          </div>
                
                <span class="note">Upload Logo of Max 2MB and formats allowed are: PNG,JPG and
                    Resolution of 128*128</span>
            
            </div>

            <div class="save">
                <a class="previous" (click)="previouspage($event)"mat-raised-button color="primary">PREVIOUS</a>
                <a class="continueforresetpan" (click)="resetStep2($event)"mat-raised-button color="primary">RESET</a>
                <a id="pansubmit"mat-raised-button color="primary" [disabled]="!gstpanform.valid"(click)="submitpandetails($event)">SAVE & CONTINUE</a>
            </div>
        </mat-tab>



        <!-- <mat-tab [disabled]='!tab.isActive' label="Amenities">
            <form class="association-form3">
                <mat-form-field>
                    <mat-select placeholder="SelectAmenity" [(value)]="amenityname">
                        <mat-option *ngFor="let amenity of amenityType" [value]="amenity">{{amenity}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </form>
            <form class="association-form3">
                <mat-form-field class="association-full-width">
                    <mat-label>No of Amenity</mat-label>
                    <input matInput placeholder="No of Amenities" [(ngModel)]="noofamenities" value=""
                        [formControl]="blockdigits" required>
                </mat-form-field>
            </form>
            <div class="save">
                <a class="continue" mat-raised-button color="primary">RESET</a>
                <a mat-raised-button color="primary" [disabled]="!form.valid"(click)="submitamenity($event)">SAVE & CONTINUE</a>
            </div>
        </mat-tab> -->
        <mat-tab #tab [disabled]='!tab.isActive' label="BLOCK & UNIT DETAILS">
            <form [formGroup]="blockform" class="association-form3">
                <mat-form-field class="association-full-width">
                    <mat-label>Total No Of Blocks<span class="red">*</span></mat-label>
                    <input matInput placeholder="No Of Blocks" 
                    pattern="[1-9]{1}[0-9]*" 
                    formControlName="blockno" [(ngModel)]="noofblocks"
                        value="">
                    <mat-error [displayError]="isFieldValidblockandunitdetails('blockno')">
                        {{ titleAlert }}
                    </mat-error>
                </mat-form-field>
            </form>
            <form [formGroup]="blockform" class="association-form3">
                <mat-form-field class="association-full-width">
                    <mat-label>Total No Of Units<span class="red">*</span></mat-label>
                    <input matInput placeholder="No Of Units"
                    pattern="[1-9]{1}[0-9]*" 
                    matTooltip="This number should be the total of all the flats which are sold, unsold and vacant"formControlName="unitno" [(ngModel)]="noofunits" value="">
                    <mat-error [displayError]="isFieldValidblockandunitdetails('unitno')">
                        {{ titleAlert }}
                    </mat-error>
                </mat-form-field>
            </form>
            <div class="save">
                <a class="continue" (click)="previouspage($event)"mat-raised-button color="primary">PREVIOUS</a>
                <a class="continue" (click)="resetStep3($event)"mat-raised-button color="primary">RESET</a>
                <a id="assdetailssave"mat-raised-button color="primary" [disabled]="!blockform.valid"(click)="submitassociationcreation($event,'')">SAVE & CONTINUE</a>
            </div>
        </mat-tab>
        <!-- <mat-tab [disabled]='!tab.isActive' label="Bulkupload/Manual entry Details">
          
                        <div class="upload_excel">
                            <a> <img style="width: 60px;" class="excel" (click)="upLoad()" src="../../assets/images/upload.png"
                                    tooltip="Have more num of Blocks?"></a>
                            <a href="../../assets/Excel/Demo_Block_Detailstemplate.xlsx" download><img style="width: 60px;" class="excel"
                                    src="../../assets/images/download.png"
                                    tooltip="click to download demo excel format"></a>
                            <input type="file" id="file_upload_id" (change)="onFileChange($event)" multiple="false"
                                accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"
                                style="display:none" #file>
                        </div> 
                       <div id="manualbulk">
                        <button id="button1"mat-raised-button color="primary"(click)="submitforconform($event)">Manual Input</button>
                        <button id="button2"mat-raised-button color="primary"(click)="submitforconform($event)">Bulk Upload</button>

                       </div>
         
                      
           
        </mat-tab> -->
        <mat-tab #tab [disabled]='!tab.isActive' label="BLOCKS DETAILS">
            <button style="margin-top:12px;" id="button2" mat-raised-button color="primary" (click)="submitforblocksbulkupload($event)">Bulk Upload</button>
            <!-- <div id="manualbulk">
                <button id="button1" mat-raised-button color="primary" (click)="submitforconformblockdetails($event)">Manual Input</button>
                <button style="position: fixed;top: 55%;right: 2%;" id="button2" mat-raised-button color="primary" (click)="submitforblocksbulkupload($event)">Bulk Upload</button>
            </div> -->

            <div id="upload_excel" style="display:none">
                <a id="blocksuploadid" href="../../assets/Excel/Demo_Block_Detailstemplate_New.xlsx" download><img style="width: 100px;" class="excel"
                    src="../../assets/images/download.png" matTooltip="click to download demo excel format for blocks"></a>
                <a id="blocksuploadid1"> <img style="width: 100px;" class="excel" (click)="uploadblocks()" src="../../assets/images/upload.png"
                    matTooltip="UPLOAD"></a>
                <input #fileInput1 type="file" id="file_upload_id" (click)="fileInput1.value = null"
                    (change)="onFileChange($event,blockprogressbartemplate)"
                    accept=".csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel">
                <div id="cancelbutton">
                    <button mat-raised-button color="primary" (click)="cancelbulkupload($event)">Cancel</button>
                </div>
                <!-- <input type="file" id="file_unitupload_id" (change)="onFileunitdetailschange($event)" multiple="true"
                    accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"#file> -->
            </div>
                <!-- <div id="upload_excel" style="display:none">
                    <a> <img style="width: 100px;" class="excel" (click)="upLoad()" src="../../assets/images/upload.png"
                        matTooltip="UPLOAD"></a>
                    <a href="../../assets/Excel/Demo_Block_Detailstemplate.xlsx" download><img style="width: 100px;" class="excel"
                            src="../../assets/images/download.png" matTooltip="click to download demo excel format"></a>
                    <input #fileInput type="file" id="file_upload_id" (click)="fileInput.value = null" 
                    (change)="onFileChange($event)"
                        accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel">
                 <div id="cancelbutton">
                  <button mat-raised-button color="primary" (click)="cancelbulkupload($event)">Cancel</button>
               </div>
                </div> -->
                
            <!-- <div [formGroup]="blocksdetailsform"> -->
                <!-- <div id="showmanual" style="display:none;margin-top: 30px;"> -->
                    <!-- <form #blkDtlFrm="ngForm" class="blockdetails-form"> -->

                        <!--BlockBulkupload-->
                <div id="showmanual" style="margin-top: 30px;" style="display:none">
                    <a (click)="Clright()" class="go-right">Go Right</a> 
                    <a (click)="Clleft()" class="go-left">Go left</a>
                    <!-- <p id="seperateblocks" style="text-align: right;font-weight: 700;" *ngIf="blocksArray.length > 11">scroll right to view more blocks <i class="fa fa-angle-right" aria-hidden="true"></i></p> -->
                    <div class="tab-pane" style="margin-top: 6px;">
                        
                        <ul class="nav nav-tabs overflow-hidden" style="display: flex;overflow-x: scroll;    height: 42px;">
                            <li *ngFor="let objct of blocksArray;let i= index" [ngClass]="{'active':objct.Id==objct.blockTmpid}" style="display: flex;justify-content: space-evenly;width: auto;"><a
                                    href="#{{objct.Id}}" (click)="assignBlkarrTmpid(objct.Id)"
                                    data-toggle="tab" style="display: flex;width: auto;">{{objct.blockname|uppercase}}
                                    &nbsp;&nbsp;<span></span>
                                    <!-- <i [hidden]="objct.isBlockCreated" class="fa fa-circle-thin" aria-hidden="true"></i> -->
                                    &nbsp;
                                    <i [hidden]="objct.isNotBlockCreated" [ngClass]="{'fa fa-check-circle-o':objct.isBlockCreated}" style="color: #41ca41" aria-hidden="true"></i>
                                    <i [hidden]="objct.isBlockCreated" [ngClass]="{'fa fa-circle-thin':objct.isNotBlockCreated_NowValid}" style="color: #41ca41" aria-hidden="true"></i>
                                    <i [hidden]="objct['hasNoDuplicateBlockname']==true" class="fa fa-circle-thin" style="color: #ff0505" aria-hidden="true"></i>
                                </a></li>
                        </ul>
                    <p id="seperateblocks" style="text-align: right;font-family: system-ui;" *ngIf="blocksArray.length > 11">Scroll Right To View More Blocks <i class="fa fa-angle-right" aria-hidden="true"></i></p>

                        <div class="tab-content">
                            <div [ngStyle]="{'display':obj.Id==obj.blockTmpid ? 'block' : 'none' }" *ngFor="let obj of blocksArray;let i= index" class="tab-pane">
                                <div id="{{obj.Id}}" class="blockdetailsdata" style="display: flex;flex-direction: column;align-items: stretch;justify-content: space-evenly;margin-top: 20px;">
                                    <div class="col-sm-12">
                                        <h5 style="color:#e59400;text-transform: uppercase;font-weight: bold;">Blocks Details</h5>
                                        <div style="display: flex; align-items: center;">
                                            <div class="leftalighnmentblocks">
                                                <mat-form-field class="blockdetails-form">
                                                    <mat-label
                                                        [ngClass]="{'green-lbl':obj['isnotvalidblockname']==false,'red-lbl':obj['isnotvalidblockname']==true}">
                                                        Block Name/Number<span
                                                            [ngClass]="{'green-lbl':obj['isnotvalidblockname']==false,'red-lbl':obj['isnotvalidblockname']==true}">*</span>
                                                    </mat-label>
                                                    <input disabled="{{obj['disableField']==true}}" matInput placeholder="Block Name/Number"
                                                        pattern="[a-zA-Z0-9 _]*" (keyup)="getblocknameornumber(blocksArray[i]['Id'],blocksArray[i].blockname)"
                                                        class="text" id="label" [(ngModel)]="blocksArray[i].blockname" value="">
                                                </mat-form-field>
                                                <p class="validation" *ngIf="blocksArray[i]['isnotvalidblockname']">Valid name is required</p>
                                                <p class="validation" *ngIf="blocksArray[i]['blockname']==undefined">Valid name is required</p>
                                            
                                            </div>
                                            <div class="leftalighnmentblocks">
                                                <mat-form-field class="blockdetails-form">
                                                    <mat-label
                                                        [ngClass]="{'green-lbl':blocksArray[i]['blocktype']!=undefined,'red-lbl':blocksArray[i]['blocktype']==undefined}">
                                                        Block Type<span
                                                            [ngClass]="{'green-lbl':obj['hasNoDuplicateBlockname']==true,'red-lbl':obj['hasNoDuplicateBlockname']==false}">*</span>
                                                    </mat-label>
                                            
                                                    <mat-select [disabled]="condition" [(value)]="blocksArray[i].blocktype">
                                                        <mat-option *ngFor="let property of blockType" [value]="property">{{property}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                                <p class="validation" *ngIf="blocksArray[i]['blocktype']==undefined">Valid block Type is required</p>
                                            
                                            </div>
                                            <div class="leftalighnmentblocks">
                                                <mat-form-field class="blockdetails-form">
                                                    <mat-label
                                                        [ngClass]="{'green-lbl':blocksArray[i]['units']!=undefined,'red-lbl':blocksArray[i]['units']==undefined || blocksArray[i]['units']==''}">
                                                        No Of Units<span
                                                            [ngClass]="{'green-lbl':obj['hasNoDuplicateBlockname']==true,'red-lbl':obj['hasNoDuplicateBlockname']==false}">*</span>
                                                    </mat-label>
                                                    <input disabled="{{obj['disableField']==true}}" matInput placeholder="No Of Units" pattern="[0-9]*"
                                                    (keypress)=_keyPress($event)  (keyup)="getnoofunits(blocksArray[i]['Id'],blocksArray[i].units)"
                                                        [(ngModel)]="blocksArray[i].units" value="">
                                                </mat-form-field>
                                                <p class="validation" *ngIf="blocksArray[i]['isnotvalidunits']">No of units are required</p>
                                                <p class="validation" *ngIf="blocksArray[i]['units']==undefined">No of units are required</p>
                                            
                                            </div>
                                        </div>
                                    </div>
                                   
                                    <div class="col-sm-12">
                                        <hr>
                                    </div>
                                 
                                    <div class="col-sm-12">
                                        <h5 style="color:#e59400;text-transform: uppercase;font-weight: bold;">Facility Manager Details</h5>
                                        <div style="display: flex; align-items: center;">
                                            <div class="leftalighnmentblocks">
                                                <mat-form-field class="blockdetails-form">
                                                    <mat-label
                                                        [ngClass]="{'green-lbl':!blocksArray[i]['mobilenumbervalid_but_facilitymanagerempty'],'red-lbl':blocksArray[i]['mobilenumbervalid_but_facilitymanagerempty']}">
                                                        Facility Manager
                                                    </mat-label>
                                                    <input disabled="{{obj['disableField']==true}}" class = "text" 
                                                    (keypress)="_keyPress2($event)"
                                                    matInput placeholder="Facility Manager" 
                                                    (keyup)="getfecilitymanagername(blocksArray[i]['Id'],blocksArray[i]['facility manager'])"
                                                    [(ngModel)]="blocksArray[i]['facility manager']" 
                                                    value=""pattern="[a-zA-Z _]*">
                                                </mat-form-field>
                                            <!-- <p class="validation" *ngIf="blocksArray[i]['isnotvalidfecilitymanagername']">Facility Managername is required</p> -->
                                            <p class="validation" *ngIf="blocksArray[i]['mobilenumbervalid_but_facilitymanagerempty']">Facility Managername is required</p>
                
                                             </div>
                                             <div class="leftalighnmentblocks">
                                                <mat-form-field class="blockdetails-form">
                                                    <mat-label
                                                        [ngClass]="{'green-lbl':!blocksArray[i]['facilitymanagervalid_but_mobilenumberempty'],'red-lbl':blocksArray[i]['facilitymanagervalid_but_mobilenumberempty']}">
                                                        Mobile Number
                                                    </mat-label>
                                                    <input disabled="{{obj['disableField']==true}}" matInput placeholder="Mobile Number"
                                                    pattern="[0-9]*" 
                                                    (keypress)=_keyPress($event)
                                                    minlength="10"
                                                    maxlength="10"
                                                    (keyup)="getmanagermobileno(blocksArray[i]['Id'],blocksArray[i]['mobile number'])"
                                                        [(ngModel)]="blocksArray[i]['mobile number']" value="">
                                                </mat-form-field>
                                                <!-- <p class="validation" *ngIf="blocksArray[i]['isnotvalidmanagermobileno']">mobile number is required</p> -->
                                               <p class="validation" *ngIf="blocksArray[i]['facilitymanagervalid_but_mobilenumberempty']">mobile number is required</p> 
                                            
                                            </div>
                                            <div class="leftalighnmentblocks">
                                                <mat-form-field class="blockdetails-form">
                                                    <mat-label class ='green-lbl'>Email Id</mat-label>
                                                    <input disabled="{{obj['disableField']==true}}" matInput placeholder="Email Id" 
                                                    pattern="[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*"
                                                    [(ngModel)]="blocksArray[i]['email id']"
                                                    value="">
                                                </mat-form-field>
                                               <!-- <p class="validation" *ngIf="blocksArray[i]['isnotvalidmanageremailid']">Manager email-id is required</p>
                                               <p class="validation" *ngIf="blocksArray[i]['email id']==undefined">Manager email-id is required</p> -->
                                            </div>
                                        </div>
                                    </div>
                                   
                                    <div class="col-sm-12">
                                        <hr>
                                    </div>
                            <div class="col-sm-12">
                                <h5 style="color:#e59400;text-transform: uppercase;font-weight: bold;">Maintenance Details</h5>
                                <div style="display: flex; align-items: center;">
                                    <div class="leftalighnmentblocks">
                                        <mat-form-field class="blockdetails-form">
                                            <mat-label [ngClass]="{'green-lbl':blocksArray[i]['Flat Rate value']!=undefined,'red-lbl':blocksArray[i]['Flat Rate value']==undefined || blocksArray[i]['Flat Rate value']==''}">Flat Rate Value</mat-label>
                                            <input disabled="{{obj['disableField']==true}}" matInput placeholder="Flat Rate" 
                                            [(ngModel)]="blocksArray[i]['Flat Rate value']"
                                            (keyup)="geFlatRatevalue(blocksArray[i]['Id'],blocksArray[i]['Flat Rate value'])"
                                            value="">
                                        </mat-form-field>
                                       <p class="validation" *ngIf="blocksArray[i]['Flat Rate value']==undefined">Flat Rate value is required</p>
                                       <p class="validation" *ngIf="blocksArray[i]['isNotvalidFlatratevalue']">Flat Rate value is required</p>
                                    </div>
                                    <div class="leftalighnmentblocks">
                                        <mat-form-field class="blockdetails-form">
                                            <mat-label [ngClass]="{'green-lbl':blocksArray[i]['Maintenance value']!=undefined,'red-lbl':blocksArray[i]['Maintenance value']==undefined || blocksArray[i]['Maintenance value']==''}">Maintenance Value</mat-label>
                                            <input disabled="{{obj['disableField']==true}}" matInput placeholder="Maintenance Value" 
                                            [(ngModel)]="blocksArray[i]['Maintenance value']"
                                            (keyup)="getMaintenancevalue(blocksArray[i]['Id'],blocksArray[i]['Maintenance value'])"
                                            value="">
                                        </mat-form-field>
                                       <p class="validation" *ngIf="blocksArray[i]['Maintenance value']==undefined">Maintenance value is required</p>
                                       <p class="validation" *ngIf="blocksArray[i]['isNotvalidMaintenancevalue']">Maintenance value is required</p>
                                    </div>
                                    <div class="leftalighnmentblocks">
                                        <mat-form-field class="blockdetails-form">
                                            <mat-label [ngClass]="{'green-lbl':blocksArray[i]['Maintenance Type']!=undefined,'red-lbl':blocksArray[i]['Maintenance Type']==undefined || blocksArray[i]['Maintenance Type']==''}">Maintenance Type</mat-label>
                                            <mat-select [disabled]="obj['disableField']==true" [(value)]="blocksArray[i]['Maintenance Type']" (selectionChange)="getASMtType(blocksArray[i]['Id'],$event.value)">
                                                <mat-option *ngFor="let item of ASMtTypes" [value]="item">{{item}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                        <p class="validation" *ngIf="blocksArray[i]['Maintenance Type']==undefined">Maintenance type is required</p>
                                    </div>
                                </div>
                                <div style="display: flex; align-items: center;">
                                    <div class="leftalighnmentblocks">
                                        <mat-form-field class="blockdetails-form">
                                            <mat-label [ngClass]="{'green-lbl':blocksArray[i]['Unit Of Measurement']!=undefined,'red-lbl':blocksArray[i]['Unit Of Measurement']==undefined || blocksArray[i]['Unit Of Measurement']==''}">Unit Of Measurement</mat-label>
                                            <input disabled="{{obj['disableField']==true}}" matInput placeholder="Unit Of Measurement" 
                                            [(ngModel)]="blocksArray[i]['Unit Of Measurement']"
                                            (keyup)="getUnitOfMeasurement(blocksArray[i]['Id'],blocksArray[i]['Unit Of Measurement'])"
                                            value="sqft" readonly>
                                        </mat-form-field>
                                       <p class="validation" *ngIf="blocksArray[i]['Unit Of Measurement']==undefined">Unit Of Measurement is required</p>
                                       <p class="validation" *ngIf="blocksArray[i]['isNotvalidUnitOfMeasurement']">Unit Of Measurement is required</p>
                                    </div>
                                    <div class="leftalighnmentblocks">
                                        <mat-form-field class="blockdetails-form">
                                            <mat-label [ngClass]="{'green-lbl':blocksArray[i]['Invoice Creation Frequency']!=undefined,'red-lbl':blocksArray[i]['Invoice Creation Frequency']==undefined || blocksArray[i]['Invoice Creation Frequency']==''}">Invoice Creation Frequency</mat-label>
                                            <mat-select [disabled]="obj['disableField']==true" [(value)]="blocksArray[i]['Invoice Creation Frequency']" (selectionChange)="getInvoiceCreationFrequencyValue(blocksArray[i]['Id'],$event.value)">
                                                <mat-option *ngFor="let frequency of frequencies" [value]="frequency['displayName']">{{frequency['displayName']}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                        <p class="validation" *ngIf="blocksArray[i]['Invoice Creation Frequency']==undefined">Invalid Invoice Creation Frequency</p>
                                        <p class="validation" *ngIf="blocksArray[i]['isNotvalidInvoiceCreationFrequency']">Invalid Invoice Creation Frequency</p>
                                    </div>
                                    <div class="leftalighnmentblocks">
                                        <mat-form-field class="blockdetails-form">
                                            <mat-label [ngClass]="{'green-lbl':blocksArray[i]['Invoice Generation Date']!=undefined,'red-lbl':blocksArray[i]['Invoice Generation Date']==undefined || blocksArray[i]['Invoice Generation Date']==null}">Invoice Generation Date</mat-label>
                                            <input disabled="{{obj['disableField']==true}}" matInput placeholder="Invoice Generation Date" 
                                            [(ngModel)]="blocksArray[i]['Invoice Generation Date']" (click)="getInvoiceGenerationDate(blocksArray[i]['Id'],$event)"
                                            value="" [bsConfig]="bsConfig" bsDatepicker placement="top">
                                        </mat-form-field>
                                       <p class="validation" *ngIf="blocksArray[i]['Invoice Generation Date']==undefined">Invoice Generation Date is required</p>
                                       <p class="validation" *ngIf="blocksArray[i]['isNotvalidInvoiceGenerationDate']">Invoice Generation Date is required</p>
                                    </div>
                                </div>
                                <div style="display: flex; align-items: center;">
                                    <div class="leftalighnmentblocks">
                                        <mat-form-field class="blockdetails-form">
                                            <mat-label [ngClass]="{'green-lbl':blocksArray[i]['Due Date']!=undefined,'red-lbl':blocksArray[i]['Due Date']==undefined || blocksArray[i]['Due Date']==null}">Due Date</mat-label>
                                            <input disabled="{{obj['disableField']==true}}" matInput placeholder="Due Date" 
                                            [(ngModel)]="blocksArray[i]['Due Date']" (click)="getDueDate(blocksArray[i]['Id'],$event)"
                                            value="" [bsConfig]="bsConfig" bsDatepicker placement="top">
                                        </mat-form-field>
                                       <p class="validation" *ngIf="blocksArray[i]['Due Date']==undefined">Invalid Due Date</p>
                                       <p class="validation" *ngIf="blocksArray[i]['isNotvalidDueDate']">Invalid Due Date</p>
                                      </div>
                                      <div class="leftalighnmentblocks">
                                        <mat-form-field class="blockdetails-form">
                                            <mat-label [ngClass]="{'green-lbl':blocksArray[i]['Late Payment Charge Type']!=undefined,'red-lbl':blocksArray[i]['Late Payment Charge Type']==undefined || blocksArray[i]['Late Payment Charge Type']==''}">Late Payment Charge Type</mat-label>
                                            <mat-select [disabled]="obj['disableField']==true" [(value)]="blocksArray[i]['Late Payment Charge Type']" (selectionChange)="getLatePymtChargeType(blocksArray[i]['Id'],$event.value)">
                                                <mat-option *ngFor="let lpct of latePymtChrgTypes" [value]="lpct['name']">{{lpct['name']}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                        <p class="validation" *ngIf="blocksArray[i]['Late Payment Charge Type']==undefined">Invalid Late Payment Charge Type</p>
                                        <p class="validation" *ngIf="blocksArray[i]['isNotvalidLatePaymentChargeType']">Invalid Late Payment Charge Type</p>
                                      </div>
                                      <div class="leftalighnmentblocks">
                                        <mat-form-field class="blockdetails-form">
                                            <mat-label [ngClass]="{'green-lbl':blocksArray[i]['Late Payment Charge']!=undefined,'red-lbl':blocksArray[i]['Late Payment Charge']==undefined || blocksArray[i]['Late Payment Charge']==''}">Late Payment Charge</mat-label>
                                            <input disabled="{{obj['disableField']==true}}" matInput placeholder="Late Payment Charge" 
                                            [(ngModel)]="blocksArray[i]['Late Payment Charge']"
                                            (keyup)="getLatePaymentCharge(blocksArray[i]['Id'],blocksArray[i]['Late Payment Charge'])"
                                            value="">
                                        </mat-form-field>
                                       <p class="validation" *ngIf="blocksArray[i]['Late Payment Charge']==undefined">Invalid Late Payment Charge</p>
                                       <p class="validation" *ngIf="blocksArray[i]['isNotvalidLatePaymentCharge']">Invalid Late Payment Charge</p>
                                      </div>
                                </div>
                                <div style="display: flex; align-items: center;">
                                    <div class="leftalighnmentblocks">
                                        <mat-form-field class="blockdetails-form">
                                            <mat-label [ngClass]="{'green-lbl':blocksArray[i]['Starts From']!=undefined,'red-lbl':blocksArray[i]['Starts From']==undefined || blocksArray[i]['Starts From']==''}">Starts From</mat-label>
                                            <input disabled="{{obj['disableField']==true}}" matInput placeholder="Starts From" 
                                            [(ngModel)]="blocksArray[i]['Starts From']" (click)="getStartsFromDate(blocksArray[i]['Id'],$event)" 
                                            value="" [bsConfig]="bsConfig" bsDatepicker placement="top">
                                        </mat-form-field>
                                       <p class="validation" *ngIf="blocksArray[i]['Starts From']==undefined">Invalid Start Date</p>
                                       <p class="validation" *ngIf="blocksArray[i]['isNotvalidStartdate']">Invalid Start Date</p>
                                      </div>
                                </div>
                            </div>
                                    
                                </div>
                                <div id="blockdetailsbuttons1" class="save">
                                    <button class="continue" (click)="resetforduplicatesorinvalidblocks($event,obj.Id)" [disabled]="obj.isBlockCreated" mat-raised-button color="primary" >RESET</button>
                                    <button class="continue mat-raised-button mat-button-base mat-primary" mat-raised-button color="primary"  id="assdetailssave" color="primary" [disabled]="isblockdetailsempty" [ngStyle]="{'opacity':isblockdetailsempty ? '0.5' : '1' }" (click)="createblocksdetails('')">NEXT</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!---->
                    <!-- <div *ngIf="duplicateBlocknameExist"><p style="color: red;font-size: 30px;text-transform: uppercase;">Duplicate Blockname exist please enter unique blockname</p></div> -->
                    <!-- <div *ngFor="let obj of blocksArray;let i= index">
                        <div class="blockdetailsdata">
                                <div>
                                    <mat-form-field class="blockdetails-form">
                                            <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateBlockname']==true,'red-lbl':obj['hasNoDuplicateBlockname']==false}">BLOCK NAME/NUMBER<span [ngClass]="{'green-lbl':obj['hasNoDuplicateBlockname']==true,'red-lbl':obj['hasNoDuplicateBlockname']==false}">*</span></mat-label>
                                            <input disabled="{{obj['disableField']==true}}" matInput placeholder="BLOCK NAME/NUMBER" 
                                            pattern="[a-zA-Z0-9 _]*" 
                                          (keyup)="getblocknameornumber(blocksArray[i]['Id'],blocksArray[i].blockname)"
                                            class = "text" id="label" [(ngModel)]="blocksArray[i].blockname" value="">
                                    </mat-form-field>
                                    <p class="validation" *ngIf="blocksArray[i]['isnotvalidblockname']">Valid name is required</p>
                                    <p class="validation" *ngIf="blocksArray[i]['blockname']==undefined">Valid name is required</p>
        
                                </div>
                                <div>
                                    <mat-form-field class="blockdetails-form">
                                        <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateBlockname']==true,'red-lbl':obj['hasNoDuplicateBlockname']==false}">BLOCK TYPE<span [ngClass]="{'green-lbl':obj['hasNoDuplicateBlockname']==true,'red-lbl':obj['hasNoDuplicateBlockname']==false}">*</span></mat-label>

                                        <mat-select [disabled]="condition"
                                        [(value)]="blocksArray[i].blocktype">
                                            <mat-option *ngFor="let property of blockType" [value]="property">{{property}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                    <p class="validation" *ngIf="blocksArray[i]['blocktype']==undefined">Valid block Type is required</p>
                                
                                </div>
                              <div>
                                    <mat-form-field class="blockdetails-form">
                                        <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateBlockname']==true,'red-lbl':obj['hasNoDuplicateBlockname']==false}">NO OF UNITS<span [ngClass]="{'green-lbl':obj['hasNoDuplicateBlockname']==true,'red-lbl':obj['hasNoDuplicateBlockname']==false}">*</span></mat-label>
                                        <input disabled="{{obj['disableField']==true}}" matInput placeholder="NO OF UNITS" pattern="[0-9]*"
                                        (keypress)=_keyPress($event)
                                            (keyup)="getnoofunits(blocksArray[i]['Id'],blocksArray[i].units)" [(ngModel)]="blocksArray[i].units"
                                            value="">
                                    </mat-form-field>
                                <p class="validation" *ngIf="blocksArray[i]['isnotvalidunits']">No of units are required</p>
                                <p class="validation" *ngIf="blocksArray[i]['units']==undefined">No of units are required</p>
        
                              </div>
                             <div>
                                <mat-form-field class="blockdetails-form">
                                    <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateBlockname']==true,'red-lbl':obj['hasNoDuplicateBlockname']==false}">MANAGER NAME<span [ngClass]="{'green-lbl':obj['hasNoDuplicateBlockname']==true,'red-lbl':obj['hasNoDuplicateBlockname']==false}">*</span></mat-label>
                                    <input disabled="{{obj['disableField']==true}}" class = "text" 
                                    (keypress)="_keyPress2($event)"
                                    matInput placeholder="MANAGER NAME" 
                                    (keyup)="getmanagername(blocksArray[i]['Id'],blocksArray[i].managername)"
                                    [(ngModel)]="blocksArray[i].managername" 
                                    value=""pattern="[a-zA-Z _]*">
                                </mat-form-field>
                            <p class="validation" *ngIf="blocksArray[i]['isnotvalidmanagername']">Manager name is required</p>
                            <p class="validation" *ngIf="blocksArray[i]['managername']==undefined">Manager name is required</p>

                             </div>
                             <div>
                                <mat-form-field class="blockdetails-form">
                                    <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateBlockname']==true,'red-lbl':obj['hasNoDuplicateBlockname']==false}">MANAGER MOBILE NUMBER<span [ngClass]="{'green-lbl':obj['hasNoDuplicateBlockname']==true,'red-lbl':obj['hasNoDuplicateBlockname']==false}">*</span></mat-label>
                                    <input disabled="{{obj['disableField']==true}}" matInput placeholder="MANAGER MOBILE NUMBER"
                                    pattern="[0-9]*" 
                                    (keypress)=_keyPress($event)
                                    minlength="10"
                                    maxlength="10"
                                    (keyup)="getmanagermobileno(blocksArray[i]['Id'],blocksArray[i].managermobileno)"
                                        [(ngModel)]="blocksArray[i].managermobileno" value="">
                                </mat-form-field>
                               <p class="validation" *ngIf="blocksArray[i]['isnotvalidmanagermobileno']">Manager mobile number is required</p>
                               <p class="validation" *ngIf="blocksArray[i]['managermobileno']==undefined">Manager mobile number is required</p>
                            
                            </div>
                            <div>
                                <mat-form-field class="blockdetails-form">
                                    <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateBlockname']==true,'red-lbl':obj['hasNoDuplicateBlockname']==false}">MANAGER EMAIL ID<span [ngClass]="{'green-lbl':obj['hasNoDuplicateBlockname']==true,'red-lbl':obj['hasNoDuplicateBlockname']==false}">*</span></mat-label>
                                    <input disabled="{{obj['disableField']==true}}" matInput placeholder="MANAGER EMAIL ID" 
                                    pattern="[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*"
                                    [(ngModel)]="blocksArray[i].manageremailid"
                                    (keyup)="getmanageremailid(blocksArray[i]['Id'],blocksArray[i].manageremailid)"
                                    value="">
                                </mat-form-field>
                               <p class="validation" *ngIf="blocksArray[i]['isnotvalidmanageremailid']">Manager email-id is required</p>
                               <p class="validation" *ngIf="blocksArray[i]['manageremailid']==undefined">Manager email-id is required</p>
                            </div>
                        </div>
                        
                        </div> -->
                     
                    <!-- <div id="blockdetailsbuttons1"class="save">
                        <a class="continue" (click)="resetStep4($event)" mat-raised-button color="primary" >RESET</a>
                        <button class="continue mat-raised-button mat-button-base mat-primary" mat-raised-button color="primary"  id="assdetailssave" color="primary" [disabled]="isblockdetailsempty" [ngStyle]="{'opacity':isblockdetailsempty ? '0.5' : '1' }" (click)="createblocksdetails('')">NEXT</button>
                    </div> -->
                </div>
                <!--BlockBulkupload-->

                <!--showmanualblockwithhorizantalview-->
                <div id="showmanualblockwithhorizantalview" style="margin-top: 30px;">
                    <div class="tab-pane">
                        
                        <a (click)="Clleft()" class="go-left">Go left</a>&nbsp;&nbsp;&nbsp;
                        <a (click)="Clright()" class="go-right">Go Right</a> 
                        <div class="overflow-hidden" style="width: 900px;overflow: hidden;">
                            <ul class="nav nav-tabs" style="display: flex;overflow-x: scroll;height: 42px;width: 7000px;">
                                <li *ngFor="let blkarr of blocksArray;let i= index" [ngClass]="{'active':blkarr.Id==blkarr.blockTmpid}" style="display: flex;justify-content: space-evenly;width: auto;"><a
                                        href="#{{blkarr.Id}}" (click)="assignBlkarrTmpid(blkarr.Id)"
                                        data-toggle="tab" style="width: auto;display: flex;">{{blkarr.blockname==''?'Block':blkarr.blockname|uppercase}}
                                        &nbsp;&nbsp;<span></span>
                                        <i [hidden]="blkarr.isBlockCreated" class="fa fa-circle-thin" aria-hidden="true"></i>&nbsp;
                                        <i [hidden]="blkarr.isNotBlockCreated" class="fa fa-check-circle-o" style="color: #41ca41" aria-hidden="true"></i>
                                    </a></li>
                            </ul>
                        </div>
                       
                        <div class="tab-content">
                            <div [ngStyle]="{'display':obj.Id==obj.blockTmpid ? 'block' : 'none' }" *ngFor="let obj of blocksArray;let i= index" class="tab-pane">
                                <div id="{{obj.Id}}" class="blockdetailsdata" style="display: flex;flex-direction: column;align-items: stretch;justify-content: space-evenly;margin-top: 20px;">
                                  
                                    <div class="col-sm-12">
                                        <h5 style="color:#e59400;text-transform: uppercase;font-weight: bold;">Blocks Details</h5>
                                        <div style="display: flex; align-items: center;">
                                            <div class="leftalighnmentblocks">
                                                <mat-form-field class="blockdetails-form">
                                                    <mat-label
                                                        [ngClass]="{'green-lbl':blocksArray[i]['blockname']!=undefined,'red-lbl':blocksArray[i]['blockname']==undefined || blocksArray[i]['blockname']==null}">
                                                        Block Name/Number<span
                                                            [ngClass]="{'green-lbl':blocksArray[i]['blockname']!=undefined,'red-lbl':blocksArray[i]['blockname']==undefined || blocksArray[i]['blockname']==null}">*</span>
                                                    </mat-label>
                                                    <input disabled="{{obj.isBlockCreated}}" matInput
                                                        placeholder="Block Name/Number" pattern="[a-zA-Z0-9 _]*"
                                                        (keyup)="getblocknameornumber(blocksArray[i]['Id'],blocksArray[i].blockname)"
                                                        class="text" id="label" [(ngModel)]="blocksArray[i].blockname" value="">
                                                </mat-form-field>
                                                <p class="validation" *ngIf="blocksArray[i]['isnotvalidblockname']">Valid name is required</p>
                                                <p class="validation" *ngIf="blocksArray[i]['blockname']==undefined">Valid name is required</p>
                        
                                            </div>
                                            <div class="leftalighnmentblocks">
                                                <mat-form-field class="blockdetails-form">
                                                    <mat-label class="green-lbl">Block Type</mat-label>
                        
                                                    <mat-select [disabled]="condition" [(value)]="blocksArray[i].blocktype">
                                                        <mat-option *ngFor="let property of blockType" [value]="property">{{property}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                                <p class="validation" *ngIf="blocksArray[i]['blocktype']==undefined">Valid block Type is
                                                    required</p>
                                            </div>
                                            <div class="leftalighnmentblocks">
                                                <mat-form-field class="blockdetails-form">
                                                    <mat-label
                                                        [ngClass]="{'green-lbl':blocksArray[i]['units']!=undefined,'red-lbl':blocksArray[i]['units']==undefined || blocksArray[i]['units']==null}">
                                                        No Of Units<span
                                                            [ngClass]="{'green-lbl':blocksArray[i]['units']!=undefined,'red-lbl':blocksArray[i]['units']==undefined || blocksArray[i]['units']==null}">*</span>
                                                    </mat-label>
                                                    <input disabled="{{obj.isBlockCreated}}" matInput
                                                        placeholder="No Of Units" pattern="[0-9]*" (keypress)=_keyPress($event)
                                                        (keyup)="getnoofunits(blocksArray[i]['Id'],blocksArray[i].units)"
                                                        [(ngModel)]="blocksArray[i].units" value="">
                                                </mat-form-field>
                                                <p class="validation" *ngIf="blocksArray[i]['isnotvalidunits']">No of units are required</p>
                                                <p class="validation" *ngIf="blocksArray[i]['units']==undefined">No of units are required</p>
                        
                                            </div>
                                        </div>
                                    </div>
                                 
                                <div class="col-sm-12">
                                    <hr>
                                </div>
                             
                                <div class="col-sm-12">
                                    <h5 style="color:#e59400;text-transform: uppercase;font-weight: bold;">Facility Manager Details</h5>
                                    <div style="display: flex; align-items: center;">
                                        <div class="leftalighnmentblocks">
                                            <mat-form-field class="blockdetails-form">
                                                <mat-label class ='green-lbl'>Facility Manager</mat-label>
                                                <input disabled="{{obj.isBlockCreated}}" class="text"
                                                    (keypress)="_keyPress2($event)" matInput placeholder="Facility Manager"
                                                    (keyup)="getfecilitymanagername(blocksArray[i]['Id'],blocksArray[i]['facility manager'])"
                                                    [(ngModel)]="blocksArray[i]['facility manager']" value="" pattern="[a-zA-Z _]*">
                                            </mat-form-field>
                                            <!-- <p class="validation" *ngIf="blocksArray[i]['isnotvalidfecilitymanagername']">Fecility Managername is required
                                            </p> -->
                                            <p class="validation" *ngIf="mobilenumbervalid_but_facilitymanagerempty">Facility Manager Name is required
                                            </p>
                    
                                        </div>
                                        <div class="leftalighnmentblocks">
                                            <mat-form-field class="blockdetails-form">
                                                <mat-label class ='green-lbl'>Mobile Number</mat-label>
                                                <input disabled="{{obj.isBlockCreated}}" matInput
                                                    placeholder="Mobile Number" pattern="[0-9]*" (keypress)=_keyPress($event)
                                                    minlength="10" maxlength="10"
                                                    (keyup)="getmanagermobileno(blocksArray[i]['Id'],blocksArray[i]['mobile number'])"
                                                    [(ngModel)]="blocksArray[i]['mobile number']" value="">
                                            </mat-form-field>
                                             <!-- <p class="validation" *ngIf="blocksArray[i]['isnotvalidmanagermobileno']">Mobile Number
                                                is required</p> -->
                                            <p class="validation" *ngIf="facilitymanagervalid_but_mobilenumberempty">Mobile Number
                                                 required</p> 
                                            <!-- <p class="validation" *ngIf="blocksArray[i]['facility manager']!='' && blocksArray[i]['mobile number'] == ''">Mobiile Number
                                                 required</p>  -->
                    
                                        </div>
                                        <div class="leftalighnmentblocks">
                                            <mat-form-field class="blockdetails-form">
                                                <mat-label class ='green-lbl'>Eamil Id</mat-label>
                                                <input disabled="{{obj.isBlockCreated}}" matInput
                                                    placeholder="Eamil Id"
                                                    pattern="[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*"
                                                    [(ngModel)]="blocksArray[i]['email id']"
                                                     value="">
                                            </mat-form-field>
                                            <!-- <p class="validation" *ngIf="blocksArray[i]['isnotvalidmanageremailid']">Manager email-id is
                                                required</p>
                                            <p class="validation" *ngIf="blocksArray[i]['email id']==undefined">Manager email-id 
                                                required</p> -->
                                        </div>
                                    </div>
                                </div>
                               
                                <div class="col-sm-12">
                                    <hr>
                                </div>
                            <div class="col-sm-12">
                                <h5 style="color:#e59400;text-transform: uppercase;font-weight: bold;">Maintenance Details</h5>
                                <div style="display: flex; align-items: center;">
                                    <div class="leftalighnmentblocks">
                                        <mat-form-field class="blockdetails-form">
                                            <mat-label [ngClass]="{'green-lbl':blocksArray[i]['Flat Rate value']!=undefined,'red-lbl':blocksArray[i]['Flat Rate value']==undefined || blocksArray[i]['Flat Rate value']==null}">Flat Rate Value<span
                                                [ngClass]="{'green-lbl':blocksArray[i]['Flat Rate value']!=undefined,'red-lbl':blocksArray[i]['Flat Rate value']==undefined || blocksArray[i]['Flat Rate value']==null}">*</span></mat-label>
                                            <input disabled="{{obj.isBlockCreated}}" matInput placeholder="Flat Rate" 
                                            [(ngModel)]="blocksArray[i]['Flat Rate value']"
                                            (keyup)="geFlatRatevalue(blocksArray[i]['Id'],blocksArray[i]['Flat Rate value'])"
                                            value="">
                                        </mat-form-field>
                                       <p class="validation" *ngIf="blocksArray[i]['Flat Rate value']==undefined">Flat Rate value is required</p>
                                       <p class="validation" *ngIf="blocksArray[i]['isNotvalidFlatratevalue']">Flat Rate value is required</p>
                                    </div>
                                    <div class="leftalighnmentblocks">
                                        <mat-form-field class="blockdetails-form">
                                            <mat-label [ngClass]="{'green-lbl':blocksArray[i]['Maintenance value']!=undefined,'red-lbl':blocksArray[i]['Maintenance value']==undefined || blocksArray[i]['Maintenance value']==null}">Maintenance Value<span
                                                [ngClass]="{'green-lbl':blocksArray[i]['Maintenance value']!=undefined,'red-lbl':blocksArray[i]['Maintenance value']==undefined || blocksArray[i]['Maintenance value']==null}">*</span></mat-label>
                                            <input disabled="{{obj.isBlockCreated}}" matInput placeholder="Maintenance Value" 
                                            [(ngModel)]="blocksArray[i]['Maintenance value']"
                                            (keyup)="getMaintenancevalue(blocksArray[i]['Id'],blocksArray[i]['Maintenance value'])"
                                            value="">
                                        </mat-form-field>
                                       <p class="validation" *ngIf="blocksArray[i]['Maintenance value']==undefined">Maintenance value is required</p>
                                       <p class="validation" *ngIf="blocksArray[i]['isNotvalidMaintenancevalue']">Maintenance value is required</p>
                                    </div>
                                    <div class="leftalighnmentblocks">
                                        <mat-form-field class="blockdetails-form">
                                            <mat-label [ngClass]="{'green-lbl':blocksArray[i]['Maintenance Type']!=undefined,'red-lbl':blocksArray[i]['Maintenance Type']==undefined || blocksArray[i]['Maintenance Type']==null}">Maintenance Type<span
                                                [ngClass]="{'green-lbl':blocksArray[i]['Maintenance Type']!=undefined,'red-lbl':blocksArray[i]['Maintenance Type']==undefined || blocksArray[i]['Maintenance Type']==null}">*</span></mat-label>
                                            <mat-select [disabled]="obj.isBlockCreated" [(value)]="blocksArray[i]['Maintenance Type']" (selectionChange)="getASMtType(blocksArray[i]['Id'],$event.value)">
                                                <mat-option *ngFor="let item of ASMtTypes" [value]="item">{{item}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                        <p class="validation" *ngIf="blocksArray[i]['Maintenance Type']==undefined">Maintenance type is required</p>
                                    </div>
                                </div>
                                <div style="display: flex; align-items: center;">
                                    <div class="leftalighnmentblocks">
                                        <mat-form-field class="blockdetails-form">
                                            <mat-label class="green-lbl">Unit Of Measurement<span class="green-lbl">*</span></mat-label>
                                            <input disabled="{{obj.isBlockCreated}}" matInput placeholder="Unit Of Measurement" 
                                            [(ngModel)]="blocksArray[i]['Unit Of Measurement']"
                                            (keyup)="getUnitOfMeasurement(blocksArray[i]['Id'],blocksArray[i]['Unit Of Measurement'])"
                                            value="sqft" readonly>
                                        </mat-form-field>
                                       <p class="validation" *ngIf="blocksArray[i]['Unit Of Measurement']==undefined">Unit Of Measurement is required</p>
                                       <p class="validation" *ngIf="blocksArray[i]['isNotvalidUnitOfMeasurement']">Unit Of Measurement is required</p>
                                    </div>
                                    <div class="leftalighnmentblocks">
                                        <mat-form-field class="blockdetails-form">
                                            <mat-label [ngClass]="{'green-lbl':blocksArray[i]['Invoice Creation Frequency']!=undefined,'red-lbl':blocksArray[i]['Invoice Creation Frequency']==undefined || blocksArray[i]['Invoice Creation Frequency']==null}">Invoice Creation Frequency<span class="green-lbl">*</span></mat-label>
                                            <mat-select [disabled]="obj.isBlockCreated" [(value)]="blocksArray[i]['Invoice Creation Frequency']" (selectionChange)="getInvoiceCreationFrequencyValue(blocksArray[i]['Id'],$event.value)">
                                                <mat-option *ngFor="let frequency of frequencies" [value]="frequency['displayName']">{{frequency['displayName']}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                        <p class="validation" *ngIf="blocksArray[i]['Invoice Creation Frequency']==undefined">Invalid Invoice Creation Frequency</p>
                                        <p class="validation" *ngIf="blocksArray[i]['isNotvalidInvoiceCreationFrequency']">Invalid Invoice Creation Frequency</p>
                                    </div>
                                    <div class="leftalighnmentblocks">
                                        <mat-form-field class="blockdetails-form">
                                            <mat-label [ngClass]="{'green-lbl':blocksArray[i]['Invoice Generation Date']!=undefined,'red-lbl':blocksArray[i]['Invoice Generation Date']==undefined || blocksArray[i]['Invoice Generation Date']==null}">Invoice Generation Date<span class="green-lbl">*</span></mat-label>
                                            <input disabled="{{obj.isBlockCreated}}" matInput placeholder="Invoice Generation Date" 
                                            [(ngModel)]="blocksArray[i]['Invoice Generation Date']" (click)="getInvoiceGenerationDate(blocksArray[i]['Id'],$event)"
                                            value="" [bsConfig]="bsConfig" bsDatepicker placement="top">
                                        </mat-form-field>
                                       <p class="validation" *ngIf="blocksArray[i]['Invoice Generation Date']==undefined">Invoice Generation Date is required</p>
                                       <p class="validation" *ngIf="blocksArray[i]['isNotvalidInvoiceGenerationDate']">Invoice Generation Date is required</p>
                                    </div>
                                </div>
                                <div style="display: flex; align-items: center;">
                                    <div class="leftalighnmentblocks">
                                        <mat-form-field class="blockdetails-form">
                                            <mat-label [ngClass]="{'green-lbl':blocksArray[i]['Due Date']!=undefined,'red-lbl':blocksArray[i]['Due Date']==undefined || blocksArray[i]['Due Date']==null}">Due Date<span class="green-lbl">*</span></mat-label>
                                            <input disabled="{{obj.isBlockCreated}}" matInput placeholder="Due Date" 
                                            [(ngModel)]="blocksArray[i]['Due Date']" (click)="getDueDate(blocksArray[i]['Id'],$event)"
                                            value="" [bsConfig]="bsConfig" bsDatepicker placement="top">
                                        </mat-form-field>
                                       <p class="validation" *ngIf="blocksArray[i]['Due Date']==undefined">Invalid Due Date</p>
                                       <p class="validation" *ngIf="blocksArray[i]['isNotvalidDueDate']">Invalid Due Date</p>
                                      </div>
                                      <div class="leftalighnmentblocks">
                                        <mat-form-field class="blockdetails-form">
                                            <mat-label [ngClass]="{'green-lbl':blocksArray[i]['Late Payment Charge Type']!=undefined,'red-lbl':blocksArray[i]['Late Payment Charge Type']==undefined || blocksArray[i]['Late Payment Charge Type']==null}">Late Payment Charge Type<span class="green-lbl">*</span></mat-label>
                                            <mat-select [disabled]="obj.isBlockCreated" [(value)]="blocksArray[i]['Late Payment Charge Type']" (selectionChange)="getLatePymtChargeType(blocksArray[i]['Id'],$event.value)">
                                                <mat-option *ngFor="let lpct of latePymtChrgTypes" [value]="lpct['name']">{{lpct['name']}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                        <p class="validation" *ngIf="blocksArray[i]['Late Payment Charge Type']==undefined">Invalid Late Payment Charge Type</p>
                                        <p class="validation" *ngIf="blocksArray[i]['isNotvalidLatePaymentChargeType']">Invalid Late Payment Charge Type</p>
                                      </div>
                                      <div class="leftalighnmentblocks">
                                        <mat-form-field class="blockdetails-form">
                                            <mat-label [ngClass]="{'green-lbl':blocksArray[i]['Late Payment Charge']!=undefined,'red-lbl':blocksArray[i]['Late Payment Charge']==undefined || blocksArray[i]['Late Payment Charge']==null}">Late Payment Charge<span class="green-lbl">*</span></mat-label>
                                            <input disabled="{{obj.isBlockCreated}}" matInput placeholder="Late Payment Charge" 
                                            [(ngModel)]="blocksArray[i]['Late Payment Charge']"
                                            (keyup)="getLatePaymentCharge(blocksArray[i]['Id'],blocksArray[i]['Late Payment Charge'])"
                                            value="">
                                        </mat-form-field>
                                       <p class="validation" *ngIf="blocksArray[i]['Late Payment Charge']==undefined">Invalid Late Payment Charge</p>
                                       <p class="validation" *ngIf="blocksArray[i]['isNotvalidLatePaymentCharge']">Invalid Late Payment Charge</p>
                                      </div>
                                </div>
                                <div style="display: flex; align-items: center;">
                                    <div class="leftalighnmentblocks">
                                        <mat-form-field class="blockdetails-form">
                                            <mat-label [ngClass]="{'green-lbl':blocksArray[i]['Starts From']!=undefined,'red-lbl':blocksArray[i]['Starts From']==undefined || blocksArray[i]['Starts From']==null}">Starts From<span class="green-lbl">*</span></mat-label>
                                            <input disabled="{{obj.isBlockCreated}}" matInput placeholder="Starts From" 
                                            [(ngModel)]="blocksArray[i]['Starts From']" (click)="getStartsFromDate(blocksArray[i]['Id'],$event)" 
                                            value="" [bsConfig]="bsConfig" bsDatepicker placement="top">
                                        </mat-form-field>
                                       <p class="validation" *ngIf="blocksArray[i]['Starts From']==undefined">Invalid Start Date</p>
                                       <p class="validation" *ngIf="blocksArray[i]['isNotvalidStartdate']">Invalid Start Date</p>
                                      </div>
                                </div>
                            </div>
                            
                                </div>
                                <div id="blockdetailsbuttons1" class="save">
                                    <button (click)="resetManualBlockCreationFields($event,obj.Id)" class="mat-raised-button mat-button-base mat-primary continue" [disabled]="obj.manualBlockResetDisabled" color="primary">RESET</button>
                                    <!-- <a class="continue" (click)="resetManualBlockCreationFields($event,obj.Id)" mat-raised-button color="primary">RESET</a> -->
                                    <button class="continue mat-raised-button mat-button-base mat-primary" id="assdetailssave1" color="primary" [disabled]="obj.isblockdetailsempty1"
                                        [ngStyle]="{'opacity':obj.isblockdetailsempty1 ? '0.5' : '1' }"
                                        (click)="createblocksdetails1(obj.blockname,obj.blocktype,obj.units,obj['facility manager'],obj['mobile number'],obj['email id'],obj.Id,i,obj['Flat Rate value'],obj['Maintenance value'],obj['Maintenance Type'],obj['Unit Of Measurement'],obj['Invoice Creation Frequency'],obj['Invoice Generation Date'],obj['Due Date'],obj['Late Payment Charge Type'],obj['Late Payment Charge'],obj['Starts From'])">NEXT</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--showmanualblockwithhorizantalview-->
                <!-- </form> -->
          
        </mat-tab>
        <!-- <mat-tab [disabled]='!tab.isActive' label="unit bulk/manual">
          
            <div class="upload_excel">
                <a> <img style="width: 60px;" class="excel" (click)="uploadunits()" src="../../assets/images/upload.png"
                        tooltip="Have more num of Blocks?"></a>
                <a href="../../assets/Excel/Demo_Block_Detailstemplate.xlsx" download><img style="width: 60px;" class="excel"
                        src="../../assets/images/download.png"
                        tooltip="click to download demo excel format"></a>
                <input type="file" id="file_unitupload_id" (change)="onFileunitdetailschange($event)" multiple="false"
                    accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"
                    style="display:none" #file>
            </div>
           <div>
            <button id="button1"mat-raised-button color="primary"(click)="submitassociation($event)">Manual Input</button>
            <button id="button2"mat-raised-button color="primary"(click)="submitforconform($event)">Bulk Upload</button> 

           </div>



        </mat-tab> -->
        <mat-tab #tab [disabled]='!tab.isActive' label="UNITS DETAILS">
                <div>
                        <!-- <button style="float: right;margin-top:12px" id="unitbulkbutton" mat-raised-button color="primary"
                                            (click)="submitforbulkupload($event)">Bulk Upload</button> -->
                        <button style="margin-top:12px;float: right;" id="button2" mat-raised-button color="primary" (click)="submitforbulkupload($event)">Bulk Upload</button>
                                    
                        </div>
            <!-- <div id="unitmanualbulk">
                <button id="button1" mat-raised-button color="primary" (click)="manualunitdetailsclick($event)">Manual Input</button>
                 <button id="button2" mat-raised-button color="primary" (click)="submitforbulkupload($event)">Bulk Upload</button> 
            </div> -->
                <div id="unitupload_excel" style="display:none">
                   
                    <a id="unitsuploadid" href="../../assets/Excel/Demo_Unit_Detailstemplate_New.xlsx" download><img style="width: 100px;" class="excel"
                            src="../../assets/images/download.png" matTooltip="click to download demo excel format for units"></a>
                            <a id="unitsuploadid1"> <img style="width: 100px;" class="excel" (click)="uploadunits()" src="../../assets/images/upload.png"
                                matTooltip="UPLOAD" ></a>
                            <input #fileInput type="file" id="file_unitupload_id" (click)="fileInput.value = null"
                        (change)="onFileunitdetailschange($event,UpdateBlockUnitCountTemplate,unitprogressbartemplate)"
                        accept=".csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel">
                    <div id="cancelbutton">
                        <button mat-raised-button color="primary" (click)="cancelunitsbulkupload($event)">Cancel</button>
                    </div>
                    <!-- <input type="file" id="file_unitupload_id" (change)="onFileunitdetailschange($event)" multiple="true"
                        accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"#file> -->
                </div>
            <div id="unitshowmanual">
            <!-- <mat-tab-group class="mainpage" [(selectedIndex)]="demo2TabIndex"> -->
                <!--test-->

                 <div id="unitsmanualnew" class="container-fluid">
                    <div class="row">
                    <!-- <a  (click)="Clleft()" class="go-left">Go left</a>&nbsp;&nbsp;&nbsp;
                                    <a (click)="Clright()" class="go-right">Go Right</a>  -->
                    <ul class="nav col-md-2" id="leftTabs" style="margin-top: 48px;">
                        <li class="active" *ngFor="let obj of blocksArray" style="background: #5a51aa;color: #fff !important;border-radius: 10px;display: flex;align-items: center;justify-content: space-around;    margin-bottom: 2px;">
                        <a style="color: #fff !important;background: #5a51aa;" href="#{{obj.Id}}" (click)="assignTmpid(obj.Id,obj.blockname)" data-toggle="tab">
                            <!-- <input type="checkbox" value="unt" [checked]="obj.isUnitsCreatedUnderBlock">&nbsp;&nbsp;<span></span>{{obj.blockname}} -->
                            &nbsp;&nbsp;<span></span>{{obj.blockname | uppercase}}
                            <i [hidden]="obj.isUnitsCreatedUnderBlock" class="fa fa-circle-thin" aria-hidden="true"></i>&nbsp;
                            <i [hidden]="obj.isUnitsCreatedUnderBlock1" class="fa fa-check-circle-o" style="color: #41ca41" aria-hidden="true"></i>
                        </a>
                        </li>
                    </ul>
                    <div class="tab-content col-md-10">
                        <div *ngFor="let obj1 of blocksArray">
                            <div class="tab-pane" [ngClass]="{'active':obj1.Id==obj1.blockTmpid}" id="{{obj1.Id}}">
                                    <!-- <a  (click)="Clleft()" class="go-left">Go left</a>&nbsp;&nbsp;&nbsp;
                                    <a (click)="Clright()" class="go-right">Go Right</a>  -->
                                    <div class="overflow-hidden" style="width: 900px;overflow: hidden;">
                                            <ul id="tabSet"  class="nav nav-tabs" [ngStyle]="{'display':obj1.Id==obj1.blockTmpid ? 'flex' : 'none' }" style="display: flex;overflow-x: scroll; height: 42px; width: 8000px;">
                                                    <li  *ngFor="let obj2 of unitlistjson[blocknameforIteration];let i= index" [ngClass]="{'active':obj2.Id==obj2.unitTmpid}" style="display: flex;justify-content: space-evenly;width: auto;">
                                                        <a href="#{{obj2.Id}}" (click)="assignUnitTmpid(obj2.Id,blocknameforIteration)" data-toggle="tab" style="display: flex;width: auto;">{{obj2.flatno==''?'Unit':obj2.flatno}}
                                                            &nbsp;&nbsp;<span></span>&nbsp;&nbsp;
                                                    <i [hidden]="obj2.isUnitCreated" class="fa fa-circle-thin" aria-hidden="true"></i>&nbsp;&nbsp;
                                                    <i [hidden]="obj2.isUnitNotCreated" class="fa fa-check-circle-o" style="color: #41ca41" aria-hidden="true"></i>
                                                        </a></li>
                                                </ul>
                                    </div>
                                

                                <div [ngStyle]="{'display':obj1.Id==obj1.blockTmpid ? 'block' : 'none' }" class="tab-content">
                                    <div *ngFor="let obj3 of unitlistjson[blocknameforIteration];let i= index" [ngClass]="{'active':obj3.Id==obj3.unitTmpid}" class="tab-pane">
                                        <div id="{{obj3.Id}}">
                                            <div class="blockdetailsdata">
                                                <form class="blockdetails-form" style="margin-top: 30px;">
                                                 
                                                    <div class="col-sm-12">
                                                        <h5 style="color:#e59400;text-transform: uppercase;margin-left:13px;font-weight: bold;">Unit Details</h5>
                                                        <div class="col-sm-12" style="display: flex">
                                                            <div>
                                                                <mat-form-field class="blockdetails-form">
                                                                    <mat-label
                                                                [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['flatno']!=undefined,'red-lbl':unitlistjson[blocknameforIteration][i]['flatno']==undefined || unitlistjson[blocknameforIteration][i]['flatno']==null}">
                                                                Unit No/Flat No<span
                                                                    [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['flatno']!=undefined,'red-lbl':unitlistjson[blocknameforIteration][i]['flatno']==undefined || unitlistjson[blocknameforIteration][i]['flatno']==null}">*</span>
                                                            </mat-label>
                                                                    <input disabled="{{obj3.isUnitCreated}}" class="text" matInput placeholder="Unit No/Flat No"
                                                                        (keyup)="getUnitName(unitlistjson[blocknameforIteration][i]['Id'],unitlistjson[blocknameforIteration][i]['flatno'],blocknameforIteration)"
                                                                        [(ngModel)]="obj3.flatno" [ngModelOptions]="{standalone:
                                                                                                               true}" value="">
                                                                </mat-form-field>
                                                                <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['isnotvalidflatno']">Valid unit no is required</p>
                                                                <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['flatno']==undefined">Valid unit no is required</p>
                                                    
                                                            </div>
                                                    
                                                            <div>
                                                                <mat-form-field class="blockdetails-form">
                                                                    <mat-label
                                                                [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['unittype']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['unittype']==null}">
                                                                Unit Type<span
                                                                    [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['unittype']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['unittype']==null}">*</span>
                                                            </mat-label>
                                                                    <mat-select (selectionChange)="getUnittype(unitlistjson[blocknameforIteration][i]['Id'],obj3.unittype,blocknameforIteration)" disabled="{{obj3.isUnitCreated}}" [(value)]="obj3.unittype">
                                                                        <mat-option *ngFor="let country of unittypedata" [value]="country">{{country}}
                                                                        </mat-option>
                                                                    </mat-select>
                                                                </mat-form-field>
                                                                <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['unittype']==undefined">Valid Unit Type is required</p>
                                                            </div>
                                                    
                                                            <div>
                                                                <mat-form-field class="blockdetails-form">
                                                                    <mat-label
                                                                [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['ownershipstatus']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['ownershipstatus']==null}">
                                                                Occupancy & Ownership Status<span
                                                                    [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['ownershipstatus']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['ownershipstatus']==null}">*</span>
                                                            </mat-label>
                                                                    <mat-select (selectionChange)="getOwnerShipStatus(unitlistjson[blocknameforIteration][i]['Id'],obj3.ownershipstatus,blocknameforIteration)" disabled="{{obj3.isUnitCreated}}" [(value)]="obj3.ownershipstatus">
                                                                        <mat-option *ngFor="let status of occupancy" [value]="status">{{status}}
                                                                        </mat-option>
                                                                    </mat-select>
                                                                </mat-form-field>
                                                                <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']==undefined">Valid ownershipstatus is
                                                                    required</p>
                                                            </div>
                                                        </div>
                                                        <div  class="col-sm-12" style="display: flex">
                                                            <div>
                                                                <mat-form-field class="blockdetails-form">
                                                                    <mat-label
                                                                [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['unit dimension']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['unit dimension']==null}">
                                                                Unit Dimension<span
                                                                    [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['unit dimension']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['unit dimension']==null}">*</span>
                                                            </mat-label>
                                                                    <input disabled="{{obj3.isUnitCreated}}" maxlength="100" (keypress)="_keyPress($event)" pattern="[0-9]*" class="text" matInput
                                                                        placeholder="Unit Dimension" (keyup)="ValidateLessThanZeroValue(unitlistjson[blocknameforIteration][i]['Id'],unitlistjson[blocknameforIteration][i]['unit dimension'],blocknameforIteration,unitlistjson[blocknameforIteration][i]['flatno'])"
                                                                        [(ngModel)]="obj3['unit dimension']" [ngModelOptions]="{standalone:true}" value="">
                                                                </mat-form-field>
                                                                <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['InvalidUnitDimension']">Valid unitdimension is required</p>
                                                                <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['unit dimension']==undefined">Valid unitdimension is required</p>
                                                            </div>
                                                        
                                                            <div>
                                                                <mat-form-field class="blockdetails-form">
                                                                    <mat-label
                                                                [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['Unit Calculation Type']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['Unit Calculation Type']==null}">
                                                                Calculation Type<span
                                                                    [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['Unit Calculation Type']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['Unit Calculation Type']==null}">*</span>
                                                            </mat-label>
                                                                    <mat-select (selectionChange)="getCalculationType(unitlistjson[blocknameforIteration][i]['Id'],obj3['Unit Calculation Type'],blocknameforIteration,unitlistjson[blocknameforIteration][i]['flatno'])" [(value)]="obj3['Unit Calculation Type']">
                                                                        <mat-option *ngFor="let cal of calculationTypes" [value]="cal['name']">{{cal['name']}}
                                                                        </mat-option>
                                                                    </mat-select>
                                                                </mat-form-field>
                                                                <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['Unit Calculation Type']==undefined">Valid Unit Calculationtype is
                                                                    required</p>
                                                            </div>
                                                        
                                                            <div>
                                                                <mat-form-field class="blockdetails-form">
                                                                    <mat-label
                                                                [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['unit rate']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['unit rate']==null}">
                                                                Unit Rate<span
                                                                    [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['unit rate']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['unit rate']==null}">*</span>
                                                            </mat-label>
                                                                    <input maxlength="100" (keyup)="getUnitrate(unitlistjson[blocknameforIteration][i]['Id'],unitlistjson[blocknameforIteration][i]['unit rate'],blocknameforIteration,unitlistjson[blocknameforIteration][i]['flatno'])" (keypress)="_keyPressValidateUnitrate($event)" pattern="[0-9]*" class="text" matInput
                                                                        placeholder="Unit Rate" [(ngModel)]="obj3['unit rate']" [ngModelOptions]="{standalone:true}" value="">
                                                                </mat-form-field>
                                                                <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['InvalidUnitRate']">Valid unit rate is required</p>
                                                                <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['unit rate']==undefined">Valid unit rate is required</p>
                                                            </div>
                                                  </div>
                                                    </div>
                                              <div class="col-sm-12">
                                                <hr>
                                            </div>
                                            <div class="col-sm-12" *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Vacant Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Owner Occupied Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                <h5 style="color:#e59400;text-transform: uppercase;margin-left:13px;font-weight: bold;">Owner Details</h5>
                                                <div class="col-sm-12" style="display: flex">
                                                    <div>
                                                        <mat-form-field class="blockdetails-form"
                                                            *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Vacant Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Owner Occupied Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                            <mat-label
                                                                    [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['ownerfirstname']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['ownerfirstname']==null}">
                                                                    Owner First Name<span
                                                                        [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['ownerfirstname']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['ownerfirstname']==null}">*</span>
                                                                </mat-label>
                                                            <input disabled="{{obj3.isUnitCreated}}" class="text" matInput placeholder="Owner First Name" pattern="[a-zA-Z _]*"
                                                                (keyup)="getownerfirstname(unitlistjson[blocknameforIteration][i]['Id'],unitlistjson[blocknameforIteration][i]['ownerfirstname'],blocknameforIteration)"
                                                                [(ngModel)]="obj3.ownerfirstname"
                                                                (keypress)=_keyPress2($event)
                                                                 [ngModelOptions]="{standalone:true}" value="">
                                                        </mat-form-field>
                                                        <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['isnotvalidownerfirstname']">Valid owner firstname is
                                                            required</p>
                                                        <p class="validation"
                                                            *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[blocknameforIteration][i]['ownerfirstname']==undefined||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[blocknameforIteration][i]['ownerfirstname']==undefined ||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blocknameforIteration][i]['ownerfirstname']==undefined || unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Owner Occupied Unit' && unitlistjson[blocknameforIteration][i]['ownerfirstname']==undefined">
                                                            Valid owner firstname is required</p>
                                                    </div>
                                                    <div>
                                                        <mat-form-field class="blockdetails-form"
                                                            *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Vacant Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Owner Occupied Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                            <mat-label
                                                                    [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['ownerlastname']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['ownerlastname']==null}">
                                                                    Owner Last Name<span
                                                                        [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['ownerlastname']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['ownerlastname']==null}">*</span>
                                                                </mat-label>
                                                            <input disabled="{{obj3.isUnitCreated}}" class="text" matInput placeholder="Owner Last Name"
                                                                (keyup)="getownerlastname(unitlistjson[blocknameforIteration][i]['Id'],unitlistjson[blocknameforIteration][i]['ownerlastname'],blocknameforIteration)"
                                                                (keypress)=_keyPress2($event)
                                                                pattern="[a-zA-Z _]*" [(ngModel)]="obj3.ownerlastname" [ngModelOptions]="{standalone:true}" value="">
                                                        </mat-form-field>
                                                        <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['isnotvalidownerlastname']">Valid owner lastname is
                                                            required</p>
                                                        <p class="validation"
                                                            *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[blocknameforIteration][i]['ownerlastname']==undefined ||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blocknameforIteration][i]['ownerlastname']==undefined || unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Owner Occupied Unit' && unitlistjson[blocknameforIteration][i]['ownerlastname']==undefined">
                                                            Valid owner lastname is required</p>
                                                    </div>
                                            
                                                    <div>
                                                        <mat-form-field class="blockdetails-form"
                                                            *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Vacant Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Owner Occupied Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                            <mat-label
                                                                    [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['ownermobilenumber']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['ownermobilenumber']==null}">
                                                                    Owner Mobile Number<span
                                                                        [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['ownermobilenumber']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['ownermobilenumber']==null}">*</span>
                                                                </mat-label>
                                                            <input disabled="{{obj3.isUnitCreated}}" matInput placeholder="Owner Mobile Number" pattern="[0-9]*"
                                                                (keyup)="getownermobilenumber(unitlistjson[blocknameforIteration][i]['Id'],unitlistjson[blocknameforIteration][i]['ownermobilenumber'],blocknameforIteration)"
                                                                minlength="10" maxlength="10" (keypress)=_keyPress($event) [ngModelOptions]="{standalone:true}"
                                                                [(ngModel)]="obj3.ownermobilenumber" value="">
                                                        </mat-form-field>
                                                        <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['isnotvalidownermobilenumber']">Valid 10 digit mobile
                                                            number is required</p>
                                                        <p class="validation"
                                                            *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[blocknameforIteration][i]['ownermobilenumber']==undefined ||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blocknameforIteration][i]['ownermobilenumber']==undefined || unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Owner Occupied Unit' && unitlistjson[blocknameforIteration][i]['ownermobilenumber']==undefined">
                                                            Valid 10 digit mobile number is required</p>
                                                    </div>
                                            
                                                    <div>
                                                        <mat-form-field class="blockdetails-form"
                                                            *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Vacant Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Owner Occupied Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                            <mat-label
                                                                    [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['owneremaiid']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['owneremaiid']==null}">
                                                                    Owner Email Id<span
                                                                        [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['owneremaiid']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['owneremaiid']==null}">*</span>
                                                                </mat-label>
                                                            <input disabled="{{obj3.isUnitCreated}}" matInput placeholder="Owner Email Id"
                                                                (keyup)="getowneremaiid(unitlistjson[blocknameforIteration][i]['Id'],unitlistjson[blocknameforIteration][i]['owneremaiid'],blocknameforIteration)"
                                                                pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$" [(ngModel)]="obj3.owneremaiid"
                                                                [ngModelOptions]="{standalone:true}" value="">
                                                        </mat-form-field>
                                                        <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['isnotvalidowneremaiid']">valid email-id is required</p>
                                                        <p class="validation"
                                                            *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[blocknameforIteration][i]['owneremaiid']==undefined ||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blocknameforIteration][i]['owneremaiid']==undefined || unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Owner Occupied Unit' && unitlistjson[blocknameforIteration][i]['owneremaiid']==undefined">
                                                            valid email-id is required</p>
                                                    </div>
                                                </div>
                                            </div>
                                                    
                                                    <div class="col-sm-12">
                                                        <hr>
                                                    </div>
                                                    <div class="col-sm-12" *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='UnSold Tenant Occupied Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                        <h5 style="color:#e59400;text-transform: uppercase;margin-left:13px;font-weight: bold;">Tenant Details</h5>
                                                        <div class="col-sm-12" style="display: flex">
                                                            <div>
                                                                <mat-form-field class="blockdetails-form"
                                                                    *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='UnSold Tenant Occupied Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                                    <mat-label
                                                                    [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['tenantfirstname']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['tenantfirstname']==null}">
                                                                    Tenant First Name<span
                                                                        [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['tenantfirstname']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['tenantfirstname']==null}">*</span>
                                                                </mat-label>
                                                                    <input disabled="{{obj3.isUnitCreated}}" class="text" matInput placeholder="Tenant First Name" pattern="[a-zA-Z _]*"
                                                                        [(ngModel)]="obj3.tenantfirstname"
                                                                        (keypress)=_keyPress2($event)
                                                                        (keyup)="gettenantfirstname(unitlistjson[blocknameforIteration][i]['Id'],unitlistjson[blocknameforIteration][i]['tenantfirstname'],blocknameforIteration)"
                                                                        [ngModelOptions]="{standalone:true}" value="">
                                                                </mat-form-field>
                                                                <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['isnotvalidtenantfirstname']">Valid firstname is
                                                                    required</p>
                                                                <p class="validation"
                                                                    *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='UnSold Tenant Occupied Unit' && unitlistjson[blocknameforIteration][i]['tenantfirstname']==undefined||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blocknameforIteration][i]['tenantfirstname']==undefined">
                                                                    Valid firstname is
                                                                    required</p>
                                                            </div>
                                                            <div>
                                                                <mat-form-field class="blockdetails-form"
                                                                    *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='UnSold Tenant Occupied Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                                    <mat-label
                                                                    [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['tenantlastname']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['tenantlastname']==null}">
                                                                    Tenant Last Name<span
                                                                        [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['tenantlastname']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['tenantlastname']==null}">*</span>
                                                                </mat-label>
                                                                    <input disabled="{{obj3.isUnitCreated}}" class="text" matInput placeholder="Tenant Last Name" pattern="[a-zA-Z _]*"
                                                                        (keyup)="gettenantlastname(unitlistjson[blocknameforIteration][i]['Id'],unitlistjson[blocknameforIteration][i]['tenantlastname'],blocknameforIteration)"
                                                                        [(ngModel)]="obj3.tenantlastname" 
                                                                        (keypress)=_keyPress2($event)
                                                                        [ngModelOptions]="{standalone:true}" value="">
                                                                </mat-form-field>
                                                                <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['isnotvalidtenantlastname']"> Valid lastname is required
                                                                </p>
                                                                <p class="validation"
                                                                    *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='UnSold Tenant Occupied Unit' && unitlistjson[blocknameforIteration][i]['tenantlastname']==undefined||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blocknameforIteration][i]['tenantlastname']==undefined">
                                                                    Valid lastname is
                                                                    required</p>
                                                            </div>
                                                            <div>
                                                                <mat-form-field class="blockdetails-form"
                                                                    *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='UnSold Tenant Occupied Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                                    <mat-label
                                                                    [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['tenantmobilenumber']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['tenantmobilenumber']==null}">
                                                                    Tenant Mobile Number<span
                                                                        [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['tenantmobilenumber']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['tenantmobilenumber']==null}">*</span>
                                                                </mat-label>
                                                                    <input disabled="{{obj3.isUnitCreated}}" matInput placeholder="Tenant Mobile Number" pattern="[0-9]*" minlength="10" maxlength="10"
                                                                        (keypress)=_keyPress($event)
                                                                        (keyup)="gettenantmobilenumber(unitlistjson[blocknameforIteration][i]['Id'],unitlistjson[blocknameforIteration][i]['tenantmobilenumber'],blocknameforIteration)"
                                                                        [(ngModel)]="obj3.tenantmobilenumber" [ngModelOptions]="{standalone:true}" value="">
                                                                </mat-form-field>
                                                                <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['isnotvalidtenantmobilenumber']">Valid mobile number is
                                                                    required</p>
                                                                <p class="validation"
                                                                    *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='UnSold Tenant Occupied Unit' && unitlistjson[blocknameforIteration][i]['tenantmobilenumber']==undefined||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blocknameforIteration][i]['tenantmobilenumber']==undefined">
                                                                    Valid mobile number is
                                                                    required</p>
                                                            </div>
                                                            <div>
                                                                <mat-form-field class="blockdetails-form"
                                                                    *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='UnSold Tenant Occupied Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                                    <mat-label
                                                                    [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['tenantemaiid']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['tenantemaiid']==null}">
                                                                    Tenant Email Id<span
                                                                        [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['tenantemaiid']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['tenantemaiid']==null}">*</span>
                                                                </mat-label>
                                                                    <input disabled="{{obj3.isUnitCreated}}" matInput placeholder="Tenant Email Id" pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"
                                                                        (keyup)="gettenantemaiid(unitlistjson[blocknameforIteration][i]['Id'],unitlistjson[blocknameforIteration][i]['tenantemaiid'],blocknameforIteration)"
                                                                        [(ngModel)]="obj3.tenantemaiid" [ngModelOptions]="{standalone:true}" value="">
                                                                </mat-form-field>
                                                                <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['isnotvalidtenantemaiid']"> Valid email-id is required
                                                                </p>
                                                                <p class="validation"
                                                                    *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='UnSold Tenant Occupied Unit' && unitlistjson[blocknameforIteration][i]['tenantemaiid']==undefined||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blocknameforIteration][i]['tenantemaiid']==undefined">
                                                                    Valid email-id is required</p>
                                                            </div>
                                                    
                                                        </div>
                                                    </div>
                                                   
                                                </form>
                                            </div>
                                           
                                            <div class="save">
                                                <button class="resetmanualunits mat-raised-button mat-button-base mat-primary" (click)="resetStep5($event,blocknameforIteration,obj3.Id)" [disabled]="obj3.manualUnitResetDisabled" color="primary">RESET</button>
                                                <!-- <a class="resetmanualunits" (click)="resetStep5($event,blocknameforIteration,obj3.Id)" mat-raised-button color="primary">RESET</a> -->
                                                <button id="manualunitssubmit" class="resetmanualunits mat-raised-button mat-button-base mat-primary" mat-raised-button color="primary" disabled={{obj3.isSingleUnitDataEmpty}}
                                                    (click)="gotonexttab($event,blocknameforIteration,obj3.Id,i)">{{obj3.displayText}}</button>
                                            </div>
    
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>
                </div> 
                
                <!--test-->
            



<!-- test code for units -->


  <!-- test unit code -->

               </div> 
               <div id="unitsbulkold" style="display: none">
                <div class="row">
                        <!-- <a (click)="Clleft()" class="go-left">Go left</a>&nbsp;&nbsp;&nbsp;
                        <a (click)="Clright()" class="go-right">Go Right</a> -->
                        &nbsp;&nbsp;
                    <ul class="nav col-md-2" id="leftTabs" style="margin-top: 48px;">
                        <li class="active" *ngFor="let item of blocksArray;let i=index" style="background: #5a51aa;color: #fff !important;border-radius: 10px;display: flex;align-items: center;justify-content: space-around;    margin-bottom: 2px;">
                        <a style="color: #fff !important;background: #5a51aa;" href="#{{item.Id}}" (click)="assignTmpid(item.Id,item.blockname)" data-toggle="tab">
                            &nbsp;&nbsp;<span></span>{{item.blockname | uppercase}}
                            <i [hidden]="item.isUnitsCreatedUnderBlock" class="fa fa-circle-thin" aria-hidden="true"></i>&nbsp;
                            <i [hidden]="item.isUnitsCreatedUnderBlock1" class="fa fa-check-circle-o" style="color: #41ca41" aria-hidden="true"></i>
                        </a>
                        </li>
                    </ul>
                    <label style="font-family: system-ui;position: absolute;left: 17%;top: 20%;">Scroll Right To View More Units</label>                              

                    <div class="tab-content col-md-10">
                        <!-- <p id="seperateblocks" style="text-align: right;font-weight: 700;">scroll right to view more units <i class="fa fa-angle-right" aria-hidden="true"></i></p> -->
                        <div *ngFor="let iitem of blocksArray;let i=index">
                            <div class="tab-pane" [ngClass]="{'active':iitem.Id==iitem.blockTmpid}" id="{{iitem.Id}}">
            
                                    <div [ngStyle]="{'display':iitem.Id==iitem.blockTmpid ? 'flex' : 'none' }" class="overflow-hidden" style="width: 900px;overflow: hidden;">

                                        <ul class="nav nav-tabs" [ngStyle]="{'display':iitem.Id==iitem.blockTmpid ? 'flex' : 'none' }"
                                            style="display: flex;overflow-x: scroll;    height: 42px;width: 8000px;">
                                            <li *ngFor="let obj of unitlistjson[blocknameforIteration];let i= index"
                                                [ngClass]="{'active':obj.Id==obj.unitTmpid}"
                                                style="display: flex;justify-content: space-evenly;width: auto;">
                                                <a href="#{{obj.Id}}" (click)="assignUnitTmpid(obj.Id,blocknameforIteration)" data-toggle="tab"
                                                    style="display: flex;width: auto;">{{obj.flatno==''?'Unit':obj.flatno}}
                                                    &nbsp;&nbsp;<span></span>
                                                    <i [hidden]="obj.isUnitCreated" class="fa fa-circle-thin"
                                                        [ngStyle]="{'color':obj.isUnitNameModifiedForDuplicateRecord=='No'?'#41ca41':'#ff0505'}"
                                                        aria-hidden="true"></i>&nbsp;
                                                    <i [hidden]="obj.isUnitNotCreated" class="fa fa-check-circle-o" style="color: #41ca41"
                                                        aria-hidden="true"></i>
                                                </a></li>
                                        </ul>
                                    </div>
                              
                                <div [ngStyle]="{'display':iitem.Id==iitem.blockTmpid ? 'block' : 'none' }" class="tab-content">
                                    <div *ngFor="let obj of unitlistjson[blocknameforIteration];let i= index"
                                        [ngClass]="{'active':obj.Id==obj.unitTmpid}" class="tab-pane">
                                        <div id="{{obj.Id}}">
                                            <form class="blockdetails-form1" style="margin-top: 30px;display: flex;flex-direction: column;">
                                            <div class="col-sm-12">
                                                <h5 style="color:#e59400;text-transform: uppercase;margin-left:13px;font-weight: bold;">Unit Details</h5>
                                                <div class="col-sm-12" style="display: flex">
                                                    <div>
                                                        <mat-form-field class="blockdetails-form1">
                                                            <mat-label
                                                                [ngClass]="{'green-lbl':obj['isnotvalidflatno']==false,'red-lbl':obj['isnotvalidflatno']==true}">
                                                                Unit No/Flat No<span
                                                                    [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span>
                                                            </mat-label>
                                                            <input disabled="{{obj['disableField']==true}}" class="text" matInput placeholder="Unit No/Flat No"
                                                                (keyup)="getUnitName(unitlistjson[blocknameforIteration][i]['Id'],unitlistjson[blocknameforIteration][i]['flatno'],blocknameforIteration)"
                                                                [(ngModel)]="obj.flatno" [ngModelOptions]="{standalone:
                                                                                            true}" value="">
                                                        </mat-form-field>
                                                        <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['isnotvalidflatno']">Valid unit no is
                                                            required</p>
                                                        <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['flatno']==undefined">Valid unit no is
                                                            required</p>
                                            
                                                    </div>
                                            
                                                    <div>
                                                        <mat-form-field class="blockdetails-form1">
                                                            <mat-label
                                                                [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['unittype']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['unittype']==null}">
                                                                Unit Type<span
                                                                    [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span>
                                                            </mat-label>
                                                            <mat-select
                                                                (selectionChange)="getUnittype(unitlistjson[blocknameforIteration][i]['Id'],obj.unittype,blocknameforIteration,unitlistjson[blocknameforIteration][i]['flatno'])"
                                                                disabled="{{obj['disableField']==true}}" [(value)]="obj.unittype">
                                                                <mat-option *ngFor="let country of unittypedata" [value]="country">{{country}}
                                                                </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                        <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['unittype']==undefined">Valid Unit Type
                                                            is required</p>
                                                    </div>
                                            
                                                    <div>
                                                        <mat-form-field class="blockdetails-form1">
                                                            <mat-label
                                                                [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['ownershipstatus']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['ownershipstatus']==null}">
                                                                Occupancy & Ownership Status<span
                                                                    [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span>
                                                            </mat-label>
                                                            <mat-select
                                                                (selectionChange)="getOwnerShipStatus(unitlistjson[blocknameforIteration][i]['Id'],obj.ownershipstatus,blocknameforIteration,unitlistjson[blocknameforIteration][i]['flatno'])"
                                                                disabled="{{obj['disableField']==true}}" [(value)]="obj.ownershipstatus">
                                                                <mat-option *ngFor="let status of occupancy" [value]="status">{{status}}
                                                                </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                        <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']==undefined">Valid
                                                            ownershipstatus is required</p>
                                                    </div>
                                                </div>
                                                <div class="col-sm-12" style="display: flex">
                                                    <div>
                                                        <mat-form-field class="blockdetails-form">
                                                            <mat-label
                                                                [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['unit dimension']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['unit dimension']==null}">
                                                                Unit Dimension<span
                                                                    [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span>
                                                            </mat-label>
                                                            <input disabled="{{obj['disableField']==true}}" maxlength="100" (keypress)="_keyPress($event)"
                                                                pattern="[0-9]*" class="text" matInput placeholder="Unit Dimension"
                                                                (keyup)="ValidateLessThanZeroValue(unitlistjson[blocknameforIteration][i]['Id'],unitlistjson[blocknameforIteration][i]['unit dimension'],blocknameforIteration,unitlistjson[blocknameforIteration][i]['flatno'])"
                                                                [(ngModel)]="obj['unit dimension']" [ngModelOptions]="{standalone:true}" value="">
                                                        </mat-form-field>
                                                        <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['InvalidUnitDimension']">Valid
                                                            unitdimension
                                                            is required</p>
                                                        <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['unit dimension']==undefined">Valid
                                                            unitdimension is required</p>
                                                    </div>
                                            
                                                    <div>
                                                        <mat-form-field class="blockdetails-form">
                                                            <mat-label
                                                                [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['Unit Calculation Type']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['Unit Calculation Type']==null}">
                                                                Calculation Type<span
                                                                    [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span>
                                                            </mat-label>
                                                            <mat-select disabled="{{obj['disableField']==true}}"
                                                                (selectionChange)="getCalculationType(unitlistjson[blocknameforIteration][i]['Id'],unitlistjson[blocknameforIteration][i]['Unit Calculation Type'],blocknameforIteration,unitlistjson[blocknameforIteration][i]['flatno'])"
                                                                [(value)]="obj['Unit Calculation Type']">
                                                                <mat-option *ngFor="let cal of calculationTypes" [value]="cal['name']">{{cal['name']}}
                                                                </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                        <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['Unit Calculation Type']==undefined">
                                                            Valid
                                                            Unit Calculationtype is
                                                            required</p>
                                                    </div>
                                            
                                                    <div>
                                                        <mat-form-field class="blockdetails-form">
                                                            <mat-label
                                                                [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['unit rate']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['unit rate']==null}">
                                                                Unit Rate<span
                                                                    [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span>
                                                            </mat-label>
                                                            <input maxlength="100"
                                                                (keyup)="getUnitrate(unitlistjson[blocknameforIteration][i]['Id'],unitlistjson[blocknameforIteration][i]['unit rate'],blocknameforIteration,unitlistjson[blocknameforIteration][i]['flatno'])"
                                                                (keypress)="_keyPressValidateUnitrate($event)" pattern="[0-9]*" class="text" matInput placeholder="Unit Rate"
                                                                disabled="{{obj['disableField']==true}}" [(ngModel)]="obj['unit rate']"
                                                                [ngModelOptions]="{standalone:true}" value="">
                                                        </mat-form-field>
                                                        <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['InvalidUnitRate']">Valid unit rate is
                                                            required</p>
                                                        <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['unit rate']==undefined">Valid unit rate
                                                            is
                                                            required</p>
                                                    </div>
                                                </div>
                                            </div>
                                                <div class="col-sm-12">
                                                    <hr>
                                                </div>
                                                
                                                <div class="col-sm-12" *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Vacant Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Owner Occupied Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">

                                                    <h5 style="color:#e59400;text-transform: uppercase;margin-left:13px;font-weight: bold;">Owner Details</h5>
                                                    <div class="col-sm-12" style="display: flex">
                                                        <div>
                                                            <mat-form-field class="blockdetails-form1"
                                                                *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Vacant Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Owner Occupied Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                                <mat-label
                                                                    [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['ownerfirstname']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['ownerfirstname']==null}">
                                                                    Owner First Name<span
                                                                        [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span>
                                                                </mat-label>
                                                                <input disabled="{{obj['disableField']==true}}" class="text" matInput placeholder="Owner First Name"
                                                                    pattern="[a-zA-Z _]*" (keypress)=_keyPress2($event)
                                                                    (keyup)="getownerfirstname(unitlistjson[blocknameforIteration][i]['Id'],unitlistjson[blocknameforIteration][i]['ownerfirstname'],blocknameforIteration,unitlistjson[blocknameforIteration][i]['flatno'])"
                                                                    [(ngModel)]="obj.ownerfirstname" [ngModelOptions]="{standalone:
                                                                                                                    true}" value="">
                                                            </mat-form-field>
                                                            <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['isnotvalidownerfirstname']">Valid owner firstname is
                                                                required</p>
                                                            <p class="validation"
                                                                *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[blocknameforIteration][i]['ownerfirstname']==undefined||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[blocknameforIteration][i]['ownerfirstname']==undefined ||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blocknameforIteration][i]['ownerfirstname']==undefined || unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Owner Occupied Unit' && unitlistjson[blocknameforIteration][i]['ownerfirstname']==undefined">
                                                                Valid owner firstname is required</p>
                                                        </div>
                                                        <div>
                                                            <mat-form-field class="blockdetails-form1"
                                                                *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Vacant Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Owner Occupied Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                                <mat-label
                                                                    [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['ownerlastname']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['ownerlastname']==null}">
                                                                    Owner Last Name<span
                                                                        [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span>
                                                                </mat-label>
                                                                <input disabled="{{obj['disableField']==true}}" class="text" matInput placeholder="Owner Last Name"
                                                                    (keyup)="getownerlastname(unitlistjson[blocknameforIteration][i]['Id'],unitlistjson[blocknameforIteration][i]['ownerlastname'],blocknameforIteration,unitlistjson[blocknameforIteration][i]['flatno'])"
                                                                    pattern="[a-zA-Z _]*" (keypress)=_keyPress2($event) [(ngModel)]="obj.ownerlastname"
                                                                    [ngModelOptions]="{standalone:true}" value="">
                                                            </mat-form-field>
                                                            <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['isnotvalidownerlastname']">Valid owner lastname is
                                                                required</p>
                                                            <p class="validation"
                                                                *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[blocknameforIteration][i]['ownerlastname']==undefined ||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blocknameforIteration][i]['ownerlastname']==undefined || unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Owner Occupied Unit' && unitlistjson[blocknameforIteration][i]['ownerlastname']==undefined">
                                                                Valid owner lastname is required</p>
                                                        </div>
                                                    
                                                        <div>
                                                            <mat-form-field class="blockdetails-form1"
                                                                *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Vacant Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Owner Occupied Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                                <mat-label
                                                                    [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['ownermobilenumber']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['ownermobilenumber']==null}">
                                                                    Owner Mobile Number<span
                                                                        [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span>
                                                                </mat-label>
                                                                <input disabled="{{obj['disableField']==true}}" matInput placeholder="Owner Mobile Number" pattern="[0-9]*"
                                                                    (keyup)="getownermobilenumber(unitlistjson[blocknameforIteration][i]['Id'],unitlistjson[blocknameforIteration][i]['ownermobilenumber'],blocknameforIteration,unitlistjson[blocknameforIteration][i]['flatno'])"
                                                                    minlength="10" maxlength="10" (keypress)=_keyPress($event) [ngModelOptions]="{standalone:true}"
                                                                    [(ngModel)]="obj.ownermobilenumber" value="">
                                                            </mat-form-field>
                                                            <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['isnotvalidownermobilenumber']">Valid 10 digit mobile
                                                                number is required</p>
                                                            <p class="validation"
                                                                *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[blocknameforIteration][i]['ownermobilenumber']==undefined ||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blocknameforIteration][i]['ownermobilenumber']==undefined || unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Owner Occupied Unit' && unitlistjson[blocknameforIteration][i]['ownermobilenumber']==undefined">
                                                                Valid 10 digit mobile number is required</p>
                                                        </div>
                                                    
                                                        <div>
                                                            <mat-form-field class="blockdetails-form1"
                                                                *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Vacant Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Owner Occupied Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                                <mat-label
                                                                    [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['owneremaiid']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['owneremaiid']==null}">
                                                                    Owner Email Id<span
                                                                        [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span>
                                                                </mat-label>
                                                                <input disabled="{{obj['disableField']==true}}" matInput placeholder="Owner Email Id"
                                                                    (keyup)="getowneremaiid(unitlistjson[blocknameforIteration][i]['Id'],unitlistjson[blocknameforIteration][i]['owneremaiid'],blocknameforIteration,unitlistjson[blocknameforIteration][i]['flatno'])"
                                                                    pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$" [(ngModel)]="obj.owneremaiid"
                                                                    [ngModelOptions]="{standalone:true}" value="">
                                                            </mat-form-field>
                                                            <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['isnotvalidowneremaiid']">valid email-id is required</p>
                                                            <p class="validation"
                                                                *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[blocknameforIteration][i]['owneremaiid']==undefined ||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blocknameforIteration][i]['owneremaiid']==undefined || unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Owner Occupied Unit' && unitlistjson[blocknameforIteration][i]['owneremaiid']==undefined">
                                                                valid email-id is required</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <div class="col-sm-12">
                                                    <hr>
                                                </div>
                                               
                                                <div class="col-sm-12" *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='UnSold Tenant Occupied Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                    <h5 style="color:#e59400;text-transform: uppercase;margin-left:13px;font-weight: bold;">Tenant Details</h5>
                                                    <div class="col-sm-12" style="display: flex">
                                                        <div>
                                                            <mat-form-field class="blockdetails-form1"
                                                                *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='UnSold Tenant Occupied Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                                <mat-label
                                                                    [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['tenantfirstname']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['tenantfirstname']==null}">
                                                                    Tenant First Name<span
                                                                        [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span>
                                                                </mat-label>
                                                                <input disabled="{{obj['disableField']==true}}" class="text" matInput placeholder="Tenant First Name"
                                                                    pattern="[a-zA-Z _]*" (keypress)=_keyPress2($event) [(ngModel)]="obj.tenantfirstname"
                                                                    (keyup)="gettenantfirstname(unitlistjson[blocknameforIteration][i]['Id'],unitlistjson[blocknameforIteration][i]['tenantfirstname'],blocknameforIteration,unitlistjson[blocknameforIteration][i]['flatno'])"
                                                                    [ngModelOptions]="{standalone:true}" value="">
                                                            </mat-form-field>
                                                            <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['isnotvalidtenantfirstname']">Valid firstname is
                                                                required</p>
                                                            <p class="validation"
                                                                *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='UnSold Tenant Occupied Unit' && unitlistjson[blocknameforIteration][i]['tenantfirstname']==undefined||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blocknameforIteration][i]['tenantfirstname']==undefined">
                                                                Valid firstname is
                                                                required</p>
                                                        </div>
                                                        <div>
                                                            <mat-form-field class="blockdetails-form1"
                                                                *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='UnSold Tenant Occupied Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                                <mat-label
                                                                    [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['tenantlastname']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['tenantlastname']==null}">
                                                                    Tenant Last Name<span
                                                                        [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span>
                                                                </mat-label>
                                                                <input disabled="{{obj['disableField']==true}}" class="text" matInput placeholder="Tenant Last Name"
                                                                    pattern="[a-zA-Z _]*" (keypress)=_keyPress2($event)
                                                                    (keyup)="gettenantlastname(unitlistjson[blocknameforIteration][i]['Id'],unitlistjson[blocknameforIteration][i]['tenantlastname'],blocknameforIteration,unitlistjson[blocknameforIteration][i]['flatno'])"
                                                                    [(ngModel)]="obj.tenantlastname" [ngModelOptions]="{standalone:true}" value="">
                                                            </mat-form-field>
                                                            <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['isnotvalidtenantlastname']"> Valid lastname is required
                                                            </p>
                                                            <p class="validation"
                                                                *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='UnSold Tenant Occupied Unit' && unitlistjson[blocknameforIteration][i]['tenantlastname']==undefined||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blocknameforIteration][i]['tenantlastname']==undefined">
                                                                Valid lastname is
                                                                required</p>
                                                        </div>
                                                        <div>
                                                            <mat-form-field class="blockdetails-form1"
                                                                *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='UnSold Tenant Occupied Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                                <mat-label
                                                                    [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['tenantmobilenumber']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['tenantmobilenumber']==null}">
                                                                    Tenant Mobile Number<span
                                                                        [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span>
                                                                </mat-label>
                                                                <input disabled="{{obj['disableField']==true}}" matInput placeholder="Tenant Mobile Number" pattern="[0-9]*"
                                                                    minlength="10" maxlength="10" (keypress)=_keyPress($event)
                                                                    (keyup)="gettenantmobilenumber(unitlistjson[blocknameforIteration][i]['Id'],unitlistjson[blocknameforIteration][i]['tenantmobilenumber'],blocknameforIteration,unitlistjson[blocknameforIteration][i]['flatno'])"
                                                                    [(ngModel)]="obj.tenantmobilenumber" [ngModelOptions]="{standalone:true}" value="">
                                                            </mat-form-field>
                                                            <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['isnotvalidtenantmobilenumber']">Valid mobile number is
                                                                required</p>
                                                            <p class="validation"
                                                                *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='UnSold Tenant Occupied Unit' && unitlistjson[blocknameforIteration][i]['tenantmobilenumber']==undefined||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blocknameforIteration][i]['tenantmobilenumber']==undefined">
                                                                Valid mobile number is
                                                                required</p>
                                                        </div>
                                                        <div>
                                                            <mat-form-field class="blockdetails-form1"
                                                                *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='UnSold Tenant Occupied Unit'||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                                                <mat-label
                                                                    [ngClass]="{'green-lbl':unitlistjson[blocknameforIteration][i]['tenantemaiid']!=undefined,'red-lbl': unitlistjson[blocknameforIteration][i]['tenantemaiid']==null}">
                                                                    Tenant Email Id<span
                                                                        [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span>
                                                                </mat-label>
                                                                <input disabled="{{obj['disableField']==true}}" matInput placeholder="Tenant Email Id"
                                                                    pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"
                                                                    (keyup)="gettenantemaiid(unitlistjson[blocknameforIteration][i]['Id'],unitlistjson[blocknameforIteration][i]['tenantemaiid'],blocknameforIteration,unitlistjson[blocknameforIteration][i]['flatno'])"
                                                                    [(ngModel)]="obj.tenantemaiid" [ngModelOptions]="{standalone:true}" value="">
                                                            </mat-form-field>
                                                            <p class="validation" *ngIf="unitlistjson[blocknameforIteration][i]['isnotvalidtenantemaiid']"> Valid email-id is required
                                                            </p>
                                                            <p class="validation"
                                                                *ngIf="unitlistjson[blocknameforIteration][i]['ownershipstatus']=='UnSold Tenant Occupied Unit' && unitlistjson[blocknameforIteration][i]['tenantemaiid']==undefined||unitlistjson[blocknameforIteration][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[blocknameforIteration][i]['tenantemaiid']==undefined">
                                                                Valid email-id is required</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                            </form>
                                        </div>
                                        <div>
                                            <button id="unitssubmit" mat-raised-button color="primary" disabled={{!isunitdetailsempty}} (click)="gotonexttab1($event,blocknameforIteration,i)">Save & Continue</button>
                                        </div>
                                        <div class="save">
                                            <button class="resetforbulkunits" (click)="resetStep5bulk($event,blocknameforIteration,obj.Id)" [disabled]="obj.isUnitCreated" [ngStyle]="{'opacity':obj.isUnitCreated ? '0.5' : '1' }" mat-raised-button color="primary">RESET</button>
                                        </div>
                                    </div>
                                    <!-- <div>
                                        <button id="unitssubmit" mat-raised-button color="primary" disabled={{!isunitdetailsempty}} (click)="gotonexttab1($event,blocknameforIteration,i)">Save & Continue</button>
                                    </div>
                                    <div class="save">
                                        <a class="resetforbulkunits" (click)="resetStep5bulk($event,blocknameforIteration)"mat-raised-button color="primary">RESET</a>
                                    </div>  -->
                                </div>

                            </div>
                        </div>
                    </div>

                </div>
                <!---->
                <!-- <mat-tab-group class="mainpage" [(selectedIndex)]="demo2TabIndex"> 
                    <div class="blockdetailsdata" *ngFor="let item of finalblocknameTmp;let i=index">
                       <mat-tab  class = "text"[label]="item.name">
                        <div *ngIf="duplicateUnitrecordexist"><p style="color: red;font-size: 30px;text-transform: uppercase;">Duplicate Unitname exist please enter unique unitname</p></div>
                           <div class="blockdetailsdata" *ngFor="let obj of unitlistjson[item.name];let i= index">
                            <form class="blockdetails-form1" style="margin-top: 30px;">
                               <div>
                                   <mat-form-field class="blockdetails-form1">
                                       <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">UNIT NO/FLAT NO<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                       <input disabled="{{obj['disableField']==true}}" class = "text" matInput placeholder="UNIT NO/FLAT NO"
                                        (keyup)="getUnitName(unitlistjson[item.name][i]['Id'],unitlistjson[item.name][i]['flatno'],item.name)"[(ngModel)]="obj.flatno"[ngModelOptions]="{standalone:
                                           true}"  value="">
                                   </mat-form-field>
                                   <p class="validation" *ngIf="unitlistjson[item.name][i]['isnotvalidflatno']">Valid unit no is required</p>
                                   <p class="validation" *ngIf="unitlistjson[item.name][i]['flatno']==undefined">Valid unit no is required</p>
   
                                </div>
   
                                  <div>
                                   <mat-form-field class="blockdetails-form1">
                                    <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">UNIT TYPE<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                       <mat-select (selectionChange)="getUnittype(unitlistjson[blocknameforIteration][i]['Id'],obj.unittype,blocknameforIteration)" disabled="{{obj['disableField']==true}}" [(value)]="obj.unittype">
                                           <mat-option *ngFor="let country of unittypedata" [value]="country">{{country}}
                                           </mat-option>
                                       </mat-select>
                                   </mat-form-field>
                                   <p class="validation" *ngIf="unitlistjson[item.name][i]['unittype']==undefined">Valid Unit Type is required</p>
                                  </div>
   
                                <div>
                                   <mat-form-field class="blockdetails-form1">
                                    <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">OCCUPANCY & OWNERSHIP STATUS<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                       <mat-select (selectionChange)="getOwnerShipStatus(unitlistjson[blocknameforIteration][i]['Id'],obj.ownershipstatus,blocknameforIteration)" disabled="{{obj['disableField']==true}}" [(value)]="obj.ownershipstatus">
                                           <mat-option *ngFor="let status of occupancy" [value]="status">{{status}}
                                           </mat-option>
                                       </mat-select>
                                   </mat-form-field>
                                   <p class="validation" *ngIf="unitlistjson[item.name][i]['ownershipstatus']==undefined">Valid ownershipstatus is required</p>
                               </div>
                            
                            <div>
                               <mat-form-field class="blockdetails-form1" *ngIf="unitlistjson[item.name][i]['ownershipstatus']=='Sold Vacant Unit'||unitlistjson[item.name][i]['ownershipstatus']=='Sold Owner Occupied Unit'||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                   <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">OWNER FIRST NAME<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                   <input disabled="{{obj['disableField']==true}}" class = "text" matInput placeholder="OWNER FIRSTNAME" 
                                   pattern="[a-zA-Z _]*"
                                   (keypress)=_keyPress2($event)           
                                   (keyup)="getownerfirstname(unitlistjson[item.name][i]['Id'],unitlistjson[item.name][i]['ownerfirstname'],item.name)"
                                   [(ngModel)]="obj.ownerfirstname"[ngModelOptions]="{standalone:
                                       true}" value="">
                               </mat-form-field> 
                               <p class="validation" *ngIf="unitlistjson[item.name][i]['isnotvalidownerfirstname']">Valid owner firstname is required</p>
                               <p class="validation" *ngIf="unitlistjson[item.name][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[item.name][i]['ownerfirstname']==undefined||unitlistjson[item.name][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[item.name][i]['ownerfirstname']==undefined ||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[item.name][i]['ownerfirstname']==undefined || unitlistjson[item.name][i]['ownershipstatus']=='Sold Owner Occupied Unit' && unitlistjson[item.name][i]['ownerfirstname']==undefined">Valid owner firstname is required</p>
                            </div>
                                   <div>
                                       <mat-form-field class="blockdetails-form1" *ngIf="unitlistjson[item.name][i]['ownershipstatus']=='Sold Vacant Unit'||unitlistjson[item.name][i]['ownershipstatus']=='Sold Owner Occupied Unit'||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                           <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">OWNER LAST NAME<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                           <input disabled="{{obj['disableField']==true}}" class = "text" matInput placeholder="OWNER LASTNAME" 
                                           (keyup)="getownerlastname(unitlistjson[item.name][i]['Id'],unitlistjson[item.name][i]['ownerlastname'],item.name)"
                                           pattern="[a-zA-Z _]*"
                                           (keypress)=_keyPress2($event)           
                                           [(ngModel)]="obj.ownerlastname"
                                           [ngModelOptions]="{standalone:true}" value="">
                                       </mat-form-field>
                               <p class="validation" *ngIf="unitlistjson[item.name][i]['isnotvalidownerlastname']">Valid owner lastname is required</p>
                               <p class="validation" *ngIf="unitlistjson[item.name][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[item.name][i]['ownerlastname']==undefined ||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[item.name][i]['ownerlastname']==undefined || unitlistjson[item.name][i]['ownershipstatus']=='Sold Owner Occupied Unit' && unitlistjson[item.name][i]['ownerlastname']==undefined">Valid owner lastname is required</p> 
                                   </div>
                           
                          <div>
                           <mat-form-field class="blockdetails-form1" *ngIf="unitlistjson[item.name][i]['ownershipstatus']=='Sold Vacant Unit'||unitlistjson[item.name][i]['ownershipstatus']=='Sold Owner Occupied Unit'||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                               <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">OWNER MOBILE NUMBER<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                               <input disabled="{{obj['disableField']==true}}" matInput placeholder="OWNER MOBILE NUMBER"
                               pattern="[0-9]*" 
                               (keyup)="getownermobilenumber(unitlistjson[item.name][i]['Id'],unitlistjson[item.name][i]['ownermobilenumber'],item.name)"
                               minlength="10" maxlength="10"
                               (keypress)=_keyPress($event)
                               [ngModelOptions]="{standalone:true}"
                                   [(ngModel)]="obj.ownermobilenumber" value="">
                           </mat-form-field>
                           <p class="validation" *ngIf="unitlistjson[item.name][i]['isnotvalidownermobilenumber']">Valid 10 digit mobile number is required</p>
                           <p class="validation" *ngIf="unitlistjson[item.name][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[item.name][i]['ownermobilenumber']==undefined ||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[item.name][i]['ownermobilenumber']==undefined || unitlistjson[item.name][i]['ownershipstatus']=='Sold Owner Occupied Unit' && unitlistjson[item.name][i]['ownermobilenumber']==undefined">Valid 10 digit mobile number is required</p> 
                          </div>
                                 
                     <div>
                       <mat-form-field class="blockdetails-form1"*ngIf="unitlistjson[item.name][i]['ownershipstatus']=='Sold Vacant Unit'||unitlistjson[item.name][i]['ownershipstatus']=='Sold Owner Occupied Unit'||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                           <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">OWNER EMAIL ID<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                           <input disabled="{{obj['disableField']==true}}" matInput placeholder="OWNER EMAIL-ID"
                           (keyup)="getowneremaiid(unitlistjson[item.name][i]['Id'],unitlistjson[item.name][i]['owneremaiid'],item.name)"
                           pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"
                           [(ngModel)]="obj.owneremaiid"[ngModelOptions]="{standalone:true}"value="">
                       </mat-form-field>
                       <p class="validation" *ngIf="unitlistjson[item.name][i]['isnotvalidowneremaiid']">valid email-id is required</p>
                       <p class="validation" *ngIf="unitlistjson[item.name][i]['ownershipstatus']=='Sold Vacant Unit' && unitlistjson[item.name][i]['owneremaiid']==undefined ||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[item.name][i]['owneremaiid']==undefined || unitlistjson[item.name][i]['ownershipstatus']=='Sold Owner Occupied Unit' && unitlistjson[item.name][i]['owneremaiid']==undefined">valid email-id is required</p> 
                     </div>
   
                           <div>
                               <mat-form-field class="blockdetails-form1"*ngIf="unitlistjson[item.name][i]['ownershipstatus']=='UnSold Tenant Occupied Unit'||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                   <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">TENANT FIRST NAME<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                   <input disabled="{{obj['disableField']==true}}" class="text" matInput placeholder="TENANT FIRSTNAME" 
                                   pattern="[a-zA-Z _]*"
                                   (keypress)=_keyPress2($event)  
                                   [(ngModel)]="obj.tenantfirstname"
                           (keyup)="gettenantfirstname(unitlistjson[item.name][i]['Id'],unitlistjson[item.name][i]['tenantfirstname'],item.name)"
                                       [ngModelOptions]="{standalone:true}" value="">
                               </mat-form-field>
                               <p class="validation" *ngIf="unitlistjson[item.name][i]['isnotvalidtenantfirstname']">Valid firstname is
                                   required</p>
                                   <p class="validation" *ngIf="unitlistjson[item.name][i]['ownershipstatus']=='UnSold Tenant Occupied Unit' && unitlistjson[item.name][i]['tenantfirstname']==undefined||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[item.name][i]['tenantfirstname']==undefined">Valid firstname is
                                       required</p>
                           </div>           
                           <div>
                               <mat-form-field class="blockdetails-form1"*ngIf="unitlistjson[item.name][i]['ownershipstatus']=='UnSold Tenant Occupied Unit'||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                   <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">TENANT LAST NAME<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                   <input disabled="{{obj['disableField']==true}}" class = "text" matInput placeholder="TENANT LASTNAME" 
                                   pattern="[a-zA-Z _]*"
                                   (keypress)=_keyPress2($event)  
                                   (keyup)="gettenantlastname(unitlistjson[item.name][i]['Id'],unitlistjson[item.name][i]['tenantlastname'],item.name)"
                                   [(ngModel)]="obj.tenantlastname"
                                   [ngModelOptions]="{standalone:true}" value="">
                               </mat-form-field>
                               <p class="validation" *ngIf="unitlistjson[item.name][i]['isnotvalidtenantlastname']"> Valid lastname is required</p>
                                <p class="validation" *ngIf="unitlistjson[item.name][i]['ownershipstatus']=='UnSold Tenant Occupied Unit' && unitlistjson[item.name][i]['tenantlastname']==undefined||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[item.name][i]['tenantlastname']==undefined">Valid lastname is
                                   required</p> 
                           </div>
                            <div>
                               <mat-form-field class="blockdetails-form1"
                                   *ngIf="unitlistjson[item.name][i]['ownershipstatus']=='UnSold Tenant Occupied Unit'||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                   <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">TENANT MOBILE NUMBER<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                   <input disabled="{{obj['disableField']==true}}" matInput placeholder="TENANT MOBILE NUMBER" 
                                   pattern="[0-9]*"
                                   minlength="10" maxlength="10"
                                   (keypress)=_keyPress($event)
                           (keyup)="gettenantmobilenumber(unitlistjson[item.name][i]['Id'],unitlistjson[item.name][i]['tenantmobilenumber'],item.name)"
                                   [(ngModel)]="obj.tenantmobilenumber"
                                   [ngModelOptions]="{standalone:true}" value="">
                               </mat-form-field>
                               <p class="validation" *ngIf="unitlistjson[item.name][i]['isnotvalidtenantmobilenumber']">Valid mobile number is
                                   required</p>
                               <p class="validation" *ngIf="unitlistjson[item.name][i]['ownershipstatus']=='UnSold Tenant Occupied Unit' && unitlistjson[item.name][i]['tenantmobilenumber']==undefined||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[item.name][i]['tenantmobilenumber']==undefined">Valid mobile number is
                                       required</p> 
                           </div>  
                             <div>
                                   <mat-form-field  class="blockdetails-form1"*ngIf="unitlistjson[item.name][i]['ownershipstatus']=='UnSold Tenant Occupied Unit'||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit'">
                                       <mat-label [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">TENANT EMAIL ID<span [ngClass]="{'green-lbl':obj['hasNoDuplicateUnitname']==true,'red-lbl':obj['hasNoDuplicateUnitname']==false}">*</span></mat-label>
                                       <input disabled="{{obj['disableField']==true}}" matInput placeholder="TENANT EMAIL-ID" 
                                       pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"
                           (keyup)="gettenantemaiid(unitlistjson[item.name][i]['Id'],unitlistjson[item.name][i]['tenantemaiid'],item.name)"
                                       [(ngModel)]="obj.tenantemaiid"
                                       [ngModelOptions]="{standalone:true}" value="">
                                   </mat-form-field>
                               <p class="validation" *ngIf="unitlistjson[item.name][i]['isnotvalidtenantemaiid']"> Valid email-id is required</p>
                               <p class="validation" *ngIf="unitlistjson[item.name][i]['ownershipstatus']=='UnSold Tenant Occupied Unit' && unitlistjson[item.name][i]['tenantemaiid']==undefined||unitlistjson[item.name][i]['ownershipstatus']=='Sold Tenant Occupied Unit' && unitlistjson[item.name][i]['tenantemaiid']==undefined">Valid email-id is required</p> 
                               </div>
                               
                              
                               </form>
                           </div>
                           <div>
                               <button id="unitssubmit" mat-raised-button color="primary" disabled={{!isunitdetailsempty}} (click)="gotonexttab1($event,item.name,i)">{{item.displaytext}}</button>
                           </div>
                           <div class="save">
                               <a class="resetforbulkunits" (click)="resetStep5bulk($event,item.name)"mat-raised-button color="primary">RESET</a>
                           </div>    
                        
                       </mat-tab>
                    
                   </div> 
   
               
                </mat-tab-group>  -->
               </div>
        </mat-tab>
        <mat-tab #tab [disabled]='!tab.isActive' label="SUBSCRIPTION">

        </mat-tab>
        <mat-tab #tab [disabled]='!tab.isActive' label="PAYMENT">

        </mat-tab>
    </div>
</mat-tab-group>
<ng-template #UploadedImagetemplate>
    <div class="modal-content">
  
      <div class="modal-header">
        
        <h4 class="modal-title">{{UploadedImage}}</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <img style="width: 100%;" src="{{ImgForPopUp}}"/>
      </div>
    </div>
  </ng-template>

<ng-template #UpdateBlockUnitCountTemplate>
    <div class="modal-content">

        <div class="modal-header">

            <h4 class="modal-title">Uploaded no of units is more than given no of units for particualar Block,Please
                update units count</h4>
            <button type="button" class="close pull-right" aria-label="Close" (click)="blockunitcountmodalRef.hide()">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
            <p>Add Block Count:</p>
           <div>CurrentBlockCount:<i (click)="reduceBlockCount()" class="fa fa-minus-square" aria-hidden="true"></i>&nbsp;&nbsp;<i (click)="increaseBlockCount()" class="fa fa-plus-square" aria-hidden="true"></i>
           </div> 
            <p>Add Unit Count:</p>
            <div>CurrentUnitCount:<i (click)="reduceUnitCount()" class="fa fa-minus-square" aria-hidden="true"></i>&nbsp;&nbsp;<i (click)="increaseUnitCount()" class="fa fa-plus-square" aria-hidden="true"></i>
            </div>
            <div>
                <button (click)="UpdateBlockUnitCount()">UpdateCount</button>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #blockprogressbartemplate>
    <div>
        <span style="left: 38%;position: absolute;font-weight: bold;">Uploading Blocks</span>
    </div>
    <div style="display: flex;align-items: flex-start;justify-content: space-between;padding-top: 18px;" class="modal-body">
        <progressbar style="margin-bottom: 0px;"  [animate]="false" [max]="blockprogressvaluemax" [value]="blockprogressvalue" type="success">
        </progressbar>
        <span style="color: #000 !important;padding-left: 5px;font-weight: 500;" class="text-nowrap">{{blockprogressvalue}} / {{blockprogressvaluemax}} complete...</span>
    </div>
</ng-template>
<ng-template #unitprogressbartemplate>
    <div>
        <span style="left: 38%;position: absolute;font-weight: bold;">Uploading Units</span>
    </div>
    <div style="display: flex;align-items: flex-start;justify-content: space-between;padding-top: 18px;" class="modal-body">
        <progressbar style="margin-bottom: 0px;" [animate]="false" [max]="unitprogressvaluemax" [value]="unitprogressvalue" type="success">
        </progressbar>
        <span style="color: #000 !important;padding-left: 5px;font-weight: 500;" class="text-nowrap">{{unitprogressvalue}} / {{unitprogressvaluemax}} complete...</span>
    </div>
</ng-template>
<div class="container-fluid bg np">
    <div class="col-sm-9">
        <!--Profile section-->
        <app-left-bar></app-left-bar>
        <!--Profile section-->

        <div class="col-xs-12 col-sm-12 col-md-11 b-l">
            <h3 class="black">Family Members</h3>

            <!--Dashboard icons start-->
            <div class="col-md-12 m-t-30 dash">

                <div class="enroll">
                    <div>
                        <button class="btn-primary-purple" (click)="addMemberShow()"><i class="fa fa-plus"
                                aria-hidden="true"></i> Add Members</button>

                    </div>

                </div>



                <div class="dash-row" *ngIf='memberList'>
                    <table class="table table-striped" [mfData]="familymemberarray | search:['fmName', 'fmRltn', 'fmMobile']:searchTxt" #mf="mfDataTable" [mfRowsOnPage]="10">
                        <thead>
                            <tr>
                                <th>
                                    S.No.
                                </th>
                                <th>
                                    <mfDefaultSorter by="fmName">Member Name</mfDefaultSorter>
                                </th>
                                <th>
                                    <mfDefaultSorter by="fmRltn">Relation</mfDefaultSorter>
                                </th>
                                <th>
                                    <mfDefaultSorter by="fmMobile">Mobile Number</mfDefaultSorter>
                                </th>
                                <th>
                                    Action
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of mf.data;let i=index">
                                <ng-container *ngIf="item == -1">
                                    <td colspan="4" align="center">No Data Found</td>
                                </ng-container>
                                <ng-container *ngIf="item!=-1">
                                    <td>{{(i+1)}}</td>
                                    <td>{{item['fmName']}}</td>
                                    <td>{{item['fmRltn']}}</td>
                                    <td>{{item['fmMobile']}}</td>
                                    <td>
                                        <i data-toggle="modal" data-target="#viewBlockDetailsTemplate"
                                        (click)="OpenEditFamilyMemberModal(EditFamilyMemberModal,item['fmName'],item['fmRltn'],item['fmMobile'],item['asAssnID'],item['unUnitID'],item['fmid'])" class="fa fa-pencil"></i>&nbsp;|&nbsp;<i
                                            data-toggle="modal" data-target="#editBlockDetails"
                                            (click)="deleteFamilyMember(item['fmid'])"
                                            class="fa fa-trash"></i>
    
                                    </td>
                                </ng-container>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr>
                                <td colspan="4">
                                    <mfBootstrapPaginator></mfBootstrapPaginator>
                                </td>
                            </tr>
                        </tfoot>
                    </table>
                </div>























                <!-- <div class="dash-row" *ngIf="loadchangedforassociation">
                    <table id="example" class="table table-striped table-bordered dataTable no-footer"
                        style="width:100%" role="grid" aria-describedby="example_info">
                        <thead>
                            <tr>
                                <th>Sl No</th>
                                <th>Member Name</th>
                                <th>Relation</th>
                                <th>Mobile Number</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let unit of familymemberarray">
                                <td>1</td>
                                <td>{{unit['fmName']}}</td>
                                <td>{{unit['fmRltn']}}</td>
                                <td>{{unit['fmMobile']}}</td>

                                <td>
                                    <i class="fa fa-eye" aria-hidden="true"></i> | <i class="fa fa-pencil"
                                        aria-hidden="true"></i>
                                </td>

                            </tr>
                            
                        </tbody>
                    </table>
                </div> -->

            </div>
            <!--Dashboard icons end-->

            <!--Enroll Association form Starts-->
            <div class="col-sm-12" *ngIf="addMember">
                <div class="row">
                    <form role="form">
                        <div class="panel panel-primary setup-content">
                            <!-- <div class="panel-heading">
                                         <h3 class="panel-title">Pan & Registration Details</h3>
                                    </div> -->
                            <h3 class="title">Family Details</h3>
                            <div class="panel-body">
                                <div class="form-group">
                                    <label class="control-label">Relationship</label>
                                    <input maxlength="20" type="text" [(ngModel)]='Relation' name="Relation" required="required" class="form-control"
                                        placeholder="Relationship" />
                                </div>
                                <div class="form-group">
                                    <label class="control-label">First Name</label>
                                    <input maxlength="200" type="text" [(ngModel)]='FirstName' maxlength="30" name="FirstName" required="required" class="form-control"
                                        placeholder="First Name" />
                                </div>
                                <div class="form-group">
                                    <label class="control-label">Mobile Number</label>
                                    <input maxlength="20" [(ngModel)]='MobileNumber' name="MobileNumber" type="text" required="required" class="form-control"
                                        placeholder="Mobile Number" />
                                </div>
                            </div>
                            <div class="panel-body">
                                <div class="form-group">
                                    <label class="control-label">Minor</label>
                                    <div class="col-sm-6 np">
                                        <input style="margin-right: 10px;" value="abc" [(ngModel)]='ToggleGurdian' type="radio" name="optradio" >Yes
                                    </div>
                                    <div class="col-sm-6 np">
                                        <input style="margin-right: 10px;" value="xyz" type="radio" [(ngModel)]='ToggleGurdian' [checked]="ToggleGurdian =='xyz'" name="optradio">No
                                    </div>

                                </div>

                                <div class="form-group" *ngIf="ToggleGurdian=='abc'">
                                    <label class="control-label">Gardien's Name</label>
                                    <input maxlength="200" type="text" required="required" class="form-control"
                                        placeholder="Last Name" />
                                </div>
                                <div class="form-group" *ngIf="ToggleGurdian=='abc'">
                                    <label class="control-label">Gardien's Mobile Number</label>
                                    <input maxlength="200" type="text" required="required" class="form-control"
                                        placeholder="Last Name" />
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <button class="btn btn-primary-purple nextBtn pull-right" (click)="addfamilymember()" type="button">Submit</button>
                                <input class="btn btn-primary-purple nextBtn pull-right" (click)="resetFamilyMemberModal()" type="reset" value="Reset">
                            </div>

                        </div>

                    </form>
                </div>
            </div>
            <!--Enroll Association form Ends-->


            <!--Join Association form Starts-->
            <div class="col-sm-12 panel" style="padding: 40px;" *ngIf="joinassociation">
                <div class="col-sm-3 np">
                    <p class="join_ass_opt c-active"><i class="fa fa-check-circle-o" aria-hidden="true"></i>
                        Association</p>
                    <p class="join_ass_opt c-active"><i class="fa fa-circle-o" aria-hidden="true"></i>
                        Blocks</p>
                    <p class="join_ass_opt c-active"> <i class="fa fa-circle-o" aria-hidden="true"></i>
                        Units</p>
                </div>
                <div class="col-sm-9 b-left">
                    <!--row1-->
                    <div class="content">
                        <label>Select Association</label>
                        <div class="dropdown search-dropd" style="margin: 0px 0px;">
                            <button class="btn btn-primary dropdown-toggle sdm br" type="button"
                                data-toggle="dropdown">Manyata Association
                                <span class="caret"></span></button>
                            <ul class="dropdown-menu fullw">
                                <li><a>Association1</a></li>
                                <li><a>Association2</a></li>
                            </ul>
                        </div>
                    </div>
                    <!--row1-->
                    <!--row2-->
                    <div class="content">
                        <label>Select Blocks</label>
                        <div class="dropdown search-dropd" style="margin: 0px 0px;">
                            <button class="btn btn-primary dropdown-toggle sdm br" type="button"
                                data-toggle="dropdown">Blocks
                                <span class="caret"></span></button>
                            <ul class="dropdown-menu fullw">
                                <li><a>Block1</a></li>
                                <li><a>Block2</a></li>
                            </ul>
                        </div>
                    </div>
                    <!--row2-->
                    <!--row3-->
                    <div class="content">
                        <label>Select Unit</label>
                        <div class="block-row">
                            <span class="active">105</span>
                            <span>105</span>
                            <span>105</span>
                            <span>105</span>
                            <span>105</span>
                            <span>105</span>
                        </div>
                        <div class="block-row">
                            <span>105</span>
                            <span>105</span>
                            <span>105</span>
                            <span>105</span>
                            <span>105</span>
                            <span>105</span>
                        </div>
                        <div class="block-row">
                            <span>105</span>
                            <span>105</span>
                            <span>105</span>
                            <span>105</span>
                            <span>105</span>
                            <span>105</span>
                        </div>
                    </div>
                    <!--row3-->
                </div>
                <div class="col-sm-12"> <button class="btn btn-primary-purple nextBtn pull-right"
                        type="button">Join</button><input class="btn btn-primary-purple nextBtn pull-right" type="reset"
                        value="Reset">
                </div>
            </div>
            <!--Join Association form Ends-->
        </div>
    </div>
    <!--rightBar start-->
    <app-right-bar></app-right-bar>
    <!--rightBar end-->
</div>


<ng-template #template>
    <div class="modal-header">
        <h4 class="modal-title pull-left">Modal</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        This is a modal.
    </div>
</ng-template>



<!-- EDIT FAMILY MEMBER -->
<ng-template #EditFamilyMemberModal>
    <div class="modal-header">
      <h4 class="modal-title pull-left" style="color: #e59400;font-size: 20px;position: absolute;left: 294px;">Update Family
        Member</h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <form>
        <div>
          <label><b>Family Member Name</b></label>
          <input type="text" placeholder="First Name" [(ngModel)]='EditFirstName' maxlength="30" name="EditFirstName"
            class="form-control" #FirstNameControl="ngModel">
  
          <label><b>Mobile Number</b></label>
          <input type="text" placeholder="MobileNumber" [(ngModel)]='EditMobileNumber' maxlength="20" name="EditMobileNumber"
            class="form-control" #MobileNumberControl="ngModel">
  
          <label><b>Relation</b></label>
          <input type="text" placeholder="Relation" [(ngModel)]='EditRelation' maxlength="20" name="EditRelation"
            class="form-control" #RelationControl="ngModel">
  
          <div>
            <button type="submit" class="button mdButton1" style="display: inline-block;margin: 0% 0% 0% 36%;"
              (click)='updatefamilymember()'>Update</button>
            <button type="reset" (click)="resetUpdateFamilyMemberModal()" class="cancelbtn mdButton1"
              style="display: inline-block;margin: 1.5% 0% 0% 5%;">Reset</button>
          </div>
        </div>
      </form>
    </div>
  </ng-template>
<!-- EDIT FAMILY MEMBER -->